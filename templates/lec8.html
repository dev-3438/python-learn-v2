<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Lecture 7 ‚Äì Regular Expressions ‚ú®</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/animejs/3.2.1/anime.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/skulpt@1.2.0/dist/skulpt.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/skulpt@1.2.0/dist/skulpt-stdlib.js"></script>
    <style>
      @import url("https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700&family=JetBrains+Mono:wght@400;500&display=swap");

      :root {
        --bg: #ffffff;
        --text: #1f2937;
        --accent: #0d9488;
        --accent-dark: #115e59;
        --surface: #f9fafb;
        --border: #e5e7eb;

        /* Modern Tech Brand Colors */
        --primary-600: #3b82f6;
        --primary-700: #2563eb;
        --primary-800: #1d4ed8;
        --secondary-600: #6366f1;
        --secondary-700: #4f46e5;
        --secondary-800: #4338ca;
        --accent-500: #10b981;
        --accent-600: #059669;
        --slate-50: #f8fafc;
        --slate-100: #f1f5f9;
        --slate-200: #e2e8f0;
        --slate-300: #cbd5e1;
        --slate-400: #94a3b8;
        --slate-600: #475569;
        --slate-700: #334155;
        --slate-800: #1e293b;
        --slate-900: #0f172a;
        --white: #ffffff;
      }
      [data-theme="dark"] {
        --bg: #0f172a;
        --text: #f1f5f9;
        --surface: #1e293b;
        --border: #334155;

        --primary-600: #2dd4bf;
        --primary-700: #14b8a6;
        --primary-800: #0d9488;
        --secondary-600: #fb923c;
        --secondary-700: #f97316;
        --secondary-800: #ea580c;
        --accent-500: #4ade80;
        --slate-50: #0b1120;
        --slate-100: #111827;
        --slate-200: #1f2937;
        --slate-300: #374151;
        --slate-400: #4b5563;
        --slate-600: #9ca3af;
        --slate-700: #d1d5db;
        --slate-800: #e5e7eb;
        --slate-900: #f9fafb;
        --white: #0b1120;
      }

      /* Premium Navigation */
      .nav-glassmorphism {
        background: rgba(255, 255, 255, 0.98);
        backdrop-filter: blur(20px);
        border-bottom: 1px solid rgba(226, 232, 240, 0.8);
        box-shadow: 0 1px 3px rgba(0, 0, 0, 0.1);
        position: sticky;
        top: 0;
        z-index: 1000;
      }

      .nav-link {
        position: relative;
        font-weight: 500;
        transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
      }

      .nav-link::after {
        content: "";
        position: absolute;
        bottom: -2px;
        left: 0;
        right: 0;
        height: 2px;
        background: linear-gradient(
          90deg,
          var(--primary-600),
          var(--secondary-600)
        );
        transform: scaleX(0);
        transition: transform 0.3s ease;
      }

      .nav-link:hover::after,
      .nav-link.active::after {
        transform: scaleX(1);
      }

      .nav-link.active {
        color: var(--primary-600);
        font-weight: 600;
      }

      .text-gradient {
        background: linear-gradient(
          135deg,
          var(--primary-600),
          var(--secondary-600)
        );
        -webkit-background-clip: text;
        -webkit-text-fill-color: transparent;
        background-clip: text;
      }

      /* Section Completion Checkbox */
      .section-complete {
        display: flex;
        align-items: center;
        gap: 12px;
        margin-top: 16px;
        padding: 12px 16px;
        background: var(--slate-50);
        border-radius: 12px;
        border: 2px solid var(--slate-200);
        transition: all 0.3s ease;
      }

      .section-complete:hover {
        border-color: var(--primary-600);
        background: rgba(59, 130, 246, 0.05);
      }

      .section-complete.completed {
        background: rgba(16, 185, 129, 0.1);
        border-color: var(--accent-500);
      }

      .section-checkbox {
        width: 24px;
        height: 24px;
        cursor: pointer;
        accent-color: var(--primary-600);
        flex-shrink: 0;
      }

      .section-checkbox-label {
        font-weight: 600;
        color: var(--slate-700);
        cursor: pointer;
        user-select: none;
        flex: 1;
      }

      .section-complete.completed .section-checkbox-label {
        color: var(--accent-600);
      }

      .xp-badge {
        display: inline-flex;
        align-items: center;
        gap: 4px;
        padding: 4px 12px;
        background: linear-gradient(
          135deg,
          var(--primary-600),
          var(--secondary-600)
        );
        color: white;
        border-radius: 20px;
        font-size: 0.875rem;
        font-weight: 600;
        margin-left: auto;
      }

      .xp-badge.earned {
        animation: xpPop 0.5s ease;
      }

      @keyframes xpPop {
        0%,
        100% {
          transform: scale(1);
        }
        50% {
          transform: scale(1.2);
        }
      }
      body {
        font-family: "Inter", sans-serif;
        background: var(--bg);
        color: var(--text);
        transition: background 0.3s, color 0.3s;
      }
      .code-box {
        background: #1e293b;
        color: #e2e8f0;
        border-radius: 0.75rem;
        padding: 1.25rem;
        font-family: "JetBrains Mono", monospace;
        font-size: 0.95rem;
        position: relative;
        overflow: hidden;
      }
      .output-box {
        background: #0f172a;
        color: #10b981;
        border-radius: 0.75rem;
        padding: 1.25rem;
        font-family: "JetBrains Mono", monospace;
        font-size: 0.95rem;
        min-height: 3rem;
        white-space: pre-wrap;
      }
      /* copy button */
      .copy-btn {
        position: absolute;
        top: 0.75rem;
        right: 0.75rem;
        padding: 0.25rem 0.5rem;
        font-size: 0.75rem;
        background: rgba(255, 255, 255, 0.1);
        border: 1px solid rgba(255, 255, 255, 0.2);
        color: #fff;
        border-radius: 0.5rem;
        cursor: pointer;
        transition: background 0.2s;
      }
      .copy-btn:hover {
        background: rgba(255, 255, 255, 0.2);
      }
      /* scroll-reveal animation helper */
      .reveal {
        opacity: 0;
        transform: translateY(30px);
      }
      /* tiny bounce for cta */
      @keyframes bounce-once {
        0%,
        100% {
          transform: translateY(0);
        }
        50% {
          transform: translateY(-8px);
        }
      }
      .bounce {
        animation: bounce-once 0.6s ease;
      }
      /* celebration checkmark */
      .check-celebration {
        display: inline-block;
        transform: scale(0);
        animation: pop 0.4s forwards;
      }
      @keyframes pop {
        to {
          transform: scale(1.2);
        }
      }

      /* Text-to-Speech Styles */
      .tts-container {
        position: fixed;
        bottom: 20px;
        right: 20px;
        z-index: 1000;
        background: var(--bg);
        border: 2px solid var(--accent);
        border-radius: 16px;
        box-shadow: 0 8px 32px rgba(0, 0, 0, 0.2);
        padding: 16px;
        min-width: 280px;
        max-width: 400px;
        transition: transform 0.3s ease, opacity 0.3s ease;
      }

      .tts-container.collapsed {
        transform: translateY(calc(100% - 60px));
      }

      .tts-header {
        display: flex;
        justify-content: space-between;
        align-items: center;
        margin-bottom: 12px;
        cursor: pointer;
      }

      .tts-title {
        font-weight: 600;
        color: var(--accent);
        display: flex;
        align-items: center;
        gap: 8px;
      }

      .tts-controls {
        display: flex;
        gap: 8px;
        margin-bottom: 12px;
        flex-wrap: wrap;
      }

      .tts-btn {
        padding: 8px 16px;
        border: none;
        border-radius: 8px;
        background: var(--accent);
        color: white;
        cursor: pointer;
        font-size: 14px;
        font-weight: 500;
        transition: all 0.2s;
        display: flex;
        align-items: center;
        gap: 6px;
      }

      .tts-btn:hover {
        background: var(--accent-dark);
        transform: translateY(-2px);
      }

      .tts-btn:disabled {
        opacity: 0.5;
        cursor: not-allowed;
      }

      .tts-btn.secondary {
        background: var(--surface);
        color: var(--text);
        border: 1px solid var(--border);
      }

      .tts-btn.secondary:hover {
        background: var(--border);
      }

      .tts-speed-control {
        display: flex;
        align-items: center;
        gap: 8px;
        margin-top: 8px;
        font-size: 14px;
      }

      .tts-speed-slider {
        flex: 1;
        height: 6px;
        border-radius: 3px;
        background: var(--border);
        outline: none;
        -webkit-appearance: none;
      }

      .tts-speed-slider::-webkit-slider-thumb {
        -webkit-appearance: none;
        appearance: none;
        width: 18px;
        height: 18px;
        border-radius: 50%;
        background: var(--accent);
        cursor: pointer;
      }

      .tts-speed-slider::-moz-range-thumb {
        width: 18px;
        height: 18px;
        border-radius: 50%;
        background: var(--accent);
        cursor: pointer;
        border: none;
      }

      .tts-status {
        font-size: 12px;
        color: var(--text);
        opacity: 0.7;
        margin-top: 8px;
        text-align: center;
      }

      .tts-reading {
        background: rgba(13, 148, 136, 0.1);
        border-left: 3px solid var(--accent);
        padding-left: 8px;
        transition: all 0.3s;
      }

      @media (max-width: 640px) {
        .tts-container {
          bottom: 10px;
          right: 10px;
          left: 10px;
          max-width: none;
        }
      }
    </style>
    <base target="_blank" />
  </head>
  <body>
    <!-- =========  TOP BAR  ========= -->
    <nav class="sticky top-0 z-40 bg-teal-700 text-white shadow-lg">
      <div
        class="max-w-5xl mx-auto px-4 h-16 flex items-center justify-between"
      >
        <div class="text-2xl font-bold flex items-center gap-2">
          <span class="hidden sm:inline">üêç</span> PythonLearn
        </div>
        <a href="/course" class="text-sm sm:text-base hover:underline"
          >‚Üê Back to Course</a
        >
      </div>
    </nav>

    <!-- =========  MINI NAV  ========= -->
    <div class="mini-nav">
      <div
        class="max-w-5xl mx-auto px-4 py-3 flex flex-wrap gap-2 justify-center"
      >
        <a
          href="/lec0"
          class="px-4 py-2 rounded-full bg-emerald-400 hover:bg-emerald-500"
          >Lecture 0</a
        >
        <a
          href="/lec1"
          class="px-4 py-2 rounded-full bg-emerald-400 hover:bg-emerald-500"
          >Lecture 1</a
        >
        <a
          href="/lec2"
          class="px-4 py-2 rounded-full bg-emerald-400 hover:bg-emerald-500"
          >Lecture 2</a
        >
        <a
          href="/lec3"
          class="px-4 py-2 rounded-full bg-emerald-400 hover:bg-emerald-500"
          >Lecture 3</a
        >
        <a
          href="/lec4"
          class="px-4 py-2 rounded-full bg-emerald-400 hover:bg-emerald-500"
          >Lecture 4</a
        >
        <a
          href="/lec5"
          class="px-4 py-2 rounded-full bg-emerald-400 hover:bg-emerald-500"
          >Lecture 5</a
        >
        <a
          href="/lec6"
          class="px-4 py-2 rounded-full bg-emerald-400 hover:bg-emerald-500"
          >Lecture 6</a
        >
        <a
          href="/lec7"
          class="px-4 py-2 rounded-full bg-emerald-400 hover:bg-emerald-500"
          >Lecture 7</a
        >
        <a
          href="/lec8"
          class="px-4 py-2 rounded-full bg-emerald-400 hover:bg-emerald-500"
          >Lecture 8</a
        >
        <a
          href="/lec9"
          class="px-4 py-2 rounded-full bg-emerald-400 hover:bg-emerald-500"
          >Lecture 9</a
        >
      </div>
    </div>
    <!-- =========  MAIN CONTENT  ========= -->
    <main class="max-w-4xl mx-auto px-4 py-10">
      <!-- hero -->
      <header class="reveal mb-12 text-center">
        <h1
          class="text-4xl sm:text-5xl font-extrabold mb-3 bg-clip-text text-transparent bg-gradient-to-r from-teal-600 to-blue-500"
        >
          Lecture 8 ‚Äì Object-Oriented Programming
        </h1>
        <p class="text-lg text-gray-600 dark:text-gray-300">
          Classes, inheritance, decorators, operator overloading‚Äîbuild your own
          types with super-powers.
        </p>
      </header>

      <!-- 1. Object-Oriented Programming -->
      <section class="reveal mb-12" data-section-id="lec8-section-1">
        <h2 class="text-2xl font-bold mb-3 flex items-center gap-2">
          <span class="text-teal-600">üèóÔ∏è</span> Object-Oriented Programming
        </h2>
        <p class="mb-4">
          There are different paradigms of programming. As you learn other
          languages, you will start recognizing patterns like these. <br />
          Up until this point, you have worked procedurally step-by-step. <br />
          Object-oriented programming (OOP) is a compelling solution to
          programming-related problems. <br />
          To begin, type code student.py in the terminal window and code as
          follows:
        </p>
        <div class="code-box">
          <button class="copy-btn" onclick="copyCode(this)">Copy</button>name =
          input("Name: ")<br />house = input("House: ")<br />print(f"{name} from
          {house}")
        </div>
        <p class="mt-3">
          Drawing on our work from previous weeks, we can create functions to
          abstract away parts of this program.
        </p>
        <div class="code-box">
          <button class="copy-btn" onclick="copyCode(this)">Copy</button>def
          main():<br />
          name, house = get_student()<br />
          print(f"{name} from {house}")<br /><br /><br />def get_student():<br />
          name = input("Name: ")<br />
          house = input("House: ")<br />
          return name, house<br /><br /><br />if __name__ == "__main__":<br />
          main()
        </div>

        <!-- Completion Checkbox -->
        <div class="section-complete" id="complete-lec8-section-1">
          <input
            type="checkbox"
            class="section-checkbox"
            id="checkbox-lec8-section-1"
            data-section-id="lec8-section-1"
            data-xp="10"
            onchange="handleSectionComplete(this)"
          />
          <label for="checkbox-lec8-section-1" class="section-checkbox-label">
            ‚úì I understand this topic
          </label>
          <span class="xp-badge" id="xp-badge-lec8-section-1">+10 XP</span>
        </div>
      </section>

      <!-- 2. Classes -->
      <section class="reveal mb-12" data-section-id="lec8-section-2">
        <h2 class="text-2xl font-bold mb-3 flex items-center gap-2">
          <span class="text-indigo-500">üß±</span> Classes
        </h2>
        <p class="mb-4">
          Classes are a way by which, in object-oriented programming, we can
          create our own type of data and give them names. A class is like a
          mold for a type of data ‚Äì where we can invent our own data type and
          give them a name.
        </p>
        <div class="code-box">
          <button class="copy-btn" onclick="copyCode(this)">Copy</button>class
          Student:<br />
          def __init__(self, name, house):<br />
          self.name = name<br />
          self.house = house<br /><br />
          def __str__(self):<br />
          return f"{self.name} from {self.house}"<br /><br /><br />def
          main():<br />
          student = get_student()<br />
          print(student)<br /><br /><br />def get_student():<br />
          name = input("Name: ")<br />
          house = input("House: ")<br />
          return Student(name, house)<br /><br /><br />if __name__ ==
          "__main__":<br />
          main()
        </div>
        <p class="mt-3">
          Notice by convention that Student is capitalized. Further, notice the
          ... simply means that we will later return to finish that portion of
          our code. Further, notice that in get_student, we can create a student
          of class Student using the syntax student = Student(). Further, notice
          that we utilize ‚Äúdot notation‚Äù to access attributes of this variable
          student of class Student. <br />
          You can learn more in Python‚Äôs
          <a
            href="https://docs.python.org/3/tutorial/classes.html"
            target="_blank"
            class="underline"
            >documentation of classes</a
          >.
        </p>

        <!-- Completion Checkbox -->
        <div class="section-complete" id="complete-lec8-section-2">
          <input
            type="checkbox"
            class="section-checkbox"
            id="checkbox-lec8-section-2"
            data-section-id="lec8-section-2"
            data-xp="10"
            onchange="handleSectionComplete(this)"
          />
          <label for="checkbox-lec8-section-2" class="section-checkbox-label">
            ‚úì I understand this topic
          </label>
          <span class="xp-badge" id="xp-badge-lec8-section-2">+10 XP</span>
        </div>
      </section>

      <!-- 3. raise -->
      <section class="reveal mb-12" data-section-id="lec8-section-3">
        <h2 class="text-2xl font-bold mb-3 flex items-center gap-2">
          <span class="text-red-500">‚ö†Ô∏è</span> raise
        </h2>
        <p class="mb-4">
          Object-oriented programming encourages you to encapsulate all the
          functionality of a class within the class definition. What if
          something goes wrong? What if someone tries to type in something
          random? What if someone tries to create a student without a name?
          Modify your code as follows:
        </p>
        <div class="code-box">
          <button class="copy-btn" onclick="copyCode(this)">Copy</button>class
          Student:<br />
          def __init__(self, name, house):<br />
          if not name:<br />
          raise ValueError("Missing name")<br />
          if house not in ["Gryffindor", "Hufflepuff", "Ravenclaw",
          "Slytherin"]:<br />
          raise ValueError("Invalid house")<br />
          self.name = name<br />
          self.house = house<br /><br />
          def __str__(self):<br />
          return f"{self.name} from {self.house}"
        </div>
        <p class="mt-3">
          Notice how we check now that a name is provided and a proper house is
          designated. It turns out we can create our own exceptions that alerts
          the programmer to a potential error created by the user called raise.
          In the case above, we raise ValueError with a specific error message.
        </p>

        <!-- Completion Checkbox -->
        <div class="section-complete" id="complete-lec8-section-3">
          <input
            type="checkbox"
            class="section-checkbox"
            id="checkbox-lec8-section-3"
            data-section-id="lec8-section-3"
            data-xp="10"
            onchange="handleSectionComplete(this)"
          />
          <label for="checkbox-lec8-section-3" class="section-checkbox-label">
            ‚úì I understand this topic
          </label>
          <span class="xp-badge" id="xp-badge-lec8-section-3">+10 XP</span>
        </div>
      </section>

      <!-- 4. Decorators -->
      <section class="reveal mb-12" data-section-id="lec8-section-4">
        <h2 class="text-2xl font-bold mb-3 flex items-center gap-2">
          <span class="text-purple-500">üé®</span> Decorators
        </h2>
        <p class="mb-4">
          Properties can be utilized to harden our code. In Python, we define
          properties using function ‚Äúdecorators‚Äù, which begin with @. Modify
          your code as follows:
        </p>
        <div class="code-box">
          <button class="copy-btn" onclick="copyCode(this)">Copy</button>class
          Student:<br />
          def __init__(self, name, house):<br />
          self.name = name<br />
          self.house = house<br /><br />
          @property<br />
          def name(self):<br />
          return self._name<br /><br />
          @name.setter<br />
          def name(self, name):<br />
          if not name:<br />
          raise ValueError("Invalid name")<br />
          self._name = name<br /><br />
          @property<br />
          def house(self):<br />
          return self._house<br /><br />
          @house.setter<br />
          def house(self, house):<br />
          if house not in ["Gryffindor", "Hufflepuff", "Ravenclaw",
          "Slytherin"]:<br />
          raise ValueError("Invalid house")<br />
          self._house = house
        </div>
        <p class="mt-3">
          Notice how we‚Äôve written @property above a function called house.
          Doing so defines house as a property of our class. With house as a
          property, we gain the ability to define how some attribute of our
          class, _house, should be set and retrieved. Indeed, we can now define
          a function called a ‚Äúsetter‚Äù, via @house.setter, which will be called
          whenever the house property is set‚Äîfor example, with student.house =
          "Gryffindor". Here, we‚Äôve made our setter validate values of house for
          us. Notice how we raise a ValueError if the value of house is not any
          of the Harry Potter houses, otherwise, we‚Äôll use house to update the
          value of _house. Why _house and not house? house is a property of our
          class, with functions via which a user attempts to set our class
          attribute. _house is that class attribute itself. The leading
          underscore, _, indicates to users they need not (and indeed,
          shouldn‚Äôt!) modify this value directly. _house should only be set
          through the house setter. Notice how the house property simply returns
          that value of _house, our class attribute that has presumably been
          validated using our house setter. When a user calls student.house,
          they‚Äôre getting the value of _house through our house ‚Äúgetter‚Äù. <br />
          You can learn more in Python‚Äôs
          <a
            href="https://docs.python.org/3/library/functions.html#property"
            target="_blank"
            class="underline"
            >documentation of methods</a
          >.
        </p>

        <!-- Completion Checkbox -->
        <div class="section-complete" id="complete-lec8-section-4">
          <input
            type="checkbox"
            class="section-checkbox"
            id="checkbox-lec8-section-4"
            data-section-id="lec8-section-4"
            data-xp="10"
            onchange="handleSectionComplete(this)"
          />
          <label for="checkbox-lec8-section-4" class="section-checkbox-label">
            ‚úì I understand this topic
          </label>
          <span class="xp-badge" id="xp-badge-lec8-section-4">+10 XP</span>
        </div>
      </section>

      <!-- 5. Connecting to Previous Work in this Course -->
      <section class="reveal mb-12" data-section-id="lec8-section-5">
        <h2 class="text-2xl font-bold mb-3 flex items-center gap-2">
          <span class="text-green-500">üîó</span> Connecting to Previous Work in
          this Course
        </h2>
        <p class="mb-4">
          While not explicitly stated in past portions of this course, you have
          been using classes and objects the whole way through. If you dig into
          the documentation of int, you‚Äôll see that it is a class with a
          constructor. It‚Äôs a blueprint for creating objects of type int. You
          can learn more in Python‚Äôs documentation of int. Strings too are also
          a class. If you have used str.lower(), you were using a method that
          came within the str class. You can learn more in Python‚Äôs
          documentation of str. list is also a class. Looking at that
          documentation for list, you can see the methods that are contained
          therein, like list.append(). You can learn more in Python‚Äôs
          documentation of list. dict is also a class within Python. You can
          learn more in Python‚Äôs documentation of dict.
        </p>
        <div class="code-box">
          <button class="copy-btn" onclick="copyCode(this)">Copy</button
          >print(type(50))<br />print(type("hello, world"))<br />print(type([]))<br />print(type(list()))<br />print(type({}))<br />print(type(dict()))
        </div>
        <div class="output-box mt-2">
          &lt;class 'int'&gt;<br />&lt;class 'str'&gt;<br />&lt;class
          'list'&gt;<br />&lt;class 'list'&gt;<br />&lt;class 'dict'&gt;<br />&lt;class
          'dict'&gt;
        </div>

        <!-- Completion Checkbox -->
        <div class="section-complete" id="complete-lec8-section-5">
          <input
            type="checkbox"
            class="section-checkbox"
            id="checkbox-lec8-section-5"
            data-section-id="lec8-section-5"
            data-xp="10"
            onchange="handleSectionComplete(this)"
          />
          <label for="checkbox-lec8-section-5" class="section-checkbox-label">
            ‚úì I understand this topic
          </label>
          <span class="xp-badge" id="xp-badge-lec8-section-5">+10 XP</span>
        </div>
      </section>

      <!-- 6. Class Methods -->
      <section class="reveal mb-12" data-section-id="lec8-section-6">
        <h2 class="text-2xl font-bold mb-3 flex items-center gap-2">
          <span class="text-yellow-500">üîß</span> Class Methods
        </h2>
        <p class="mb-4">
          Sometimes, we want to add functionality to a class itself, not to
          instances of that class. @classmethod is a function that we can use to
          add functionality to a class as a whole.
        </p>
        <div class="code-box">
          <button class="copy-btn" onclick="copyCode(this)">Copy</button>import
          random<br /><br /><br />class Hat:<br /><br />
          houses = ["Gryffindor", "Hufflepuff", "Ravenclaw", "Slytherin"]<br /><br />
          @classmethod<br />
          def sort(cls, name):<br />
          print(name, "is in", random.choice(cls.houses))<br /><br /><br />Hat.sort("Harry")
        </div>
        <p class="mt-3">
          Notice how the __init__ method is removed because we don‚Äôt need to
          instantiate a hat anywhere in our code. self, therefore, is no longer
          relevant and is removed. We specify this sort as a @classmethod,
          replacing self with cls. Finally, notice how Hat is capitalized by
          convention near the end of this code, because this is the name of our
          class.
        </p>

        <!-- Completion Checkbox -->
        <div class="section-complete" id="complete-lec8-section-6">
          <input
            type="checkbox"
            class="section-checkbox"
            id="checkbox-lec8-section-6"
            data-section-id="lec8-section-6"
            data-xp="10"
            onchange="handleSectionComplete(this)"
          />
          <label for="checkbox-lec8-section-6" class="section-checkbox-label">
            ‚úì I understand this topic
          </label>
          <span class="xp-badge" id="xp-badge-lec8-section-6">+10 XP</span>
        </div>
      </section>

      <!-- 7. Static Methods -->
      <section class="reveal mb-12" data-section-id="lec8-section-7">
        <h2 class="text-2xl font-bold mb-3 flex items-center gap-2">
          <span class="text-orange-500">üßç</span> Static Methods
        </h2>
        <p class="mb-4">
          It turns out that besides @classmethods, which are distinct from
          instance methods, there are other types of methods as well. Using
          @staticmethod may be something you might wish to explore. While not
          covered explicitly in this course, you are welcome to go and learn
          more about static methods and their distinction from class methods.
        </p>

        <!-- Completion Checkbox -->
        <div class="section-complete" id="complete-lec8-section-7">
          <input
            type="checkbox"
            class="section-checkbox"
            id="checkbox-lec8-section-7"
            data-section-id="lec8-section-7"
            data-xp="10"
            onchange="handleSectionComplete(this)"
          />
          <label for="checkbox-lec8-section-7" class="section-checkbox-label">
            ‚úì I understand this topic
          </label>
          <span class="xp-badge" id="xp-badge-lec8-section-7">+10 XP</span>
        </div>
      </section>

      <!-- 8. Inheritance -->
      <section class="reveal mb-12" data-section-id="lec8-section-8">
        <h2 class="text-2xl font-bold mb-3 flex items-center gap-2">
          <span class="text-pink-500">üß¨</span> Inheritance
        </h2>
        <p class="mb-4">
          Inheritance is, perhaps, the most powerful feature of object-oriented
          programming. It just so happens that you can create a class that
          ‚Äúinherits‚Äù methods, variables, and attributes from another class.
        </p>
        <div class="code-box">
          <button class="copy-btn" onclick="copyCode(this)">Copy</button>class
          Wizard:<br />
          def __init__(self, name):<br />
          if not name:<br />
          raise ValueError("Missing name")<br />
          self.name = name<br /><br /><br />class Student(Wizard):<br />
          def __init__(self, name, house):<br />
          super().__init__(name)<br />
          self.house = house<br /><br /><br />class Professor(Wizard):<br />
          def __init__(self, name, subject):<br />
          super().__init__(name)<br />
          self.subject = subject
        </div>
        <p class="mt-3">
          Notice that there is a class above called Wizard and a class called
          Student. Further, notice that there is a class called Professor. Both
          students and professors have names. Also, both students and professors
          are wizards. Therefore, both Student and Professor inherit the
          characteristics of Wizard. Within the ‚Äúchild‚Äù class Student, Student
          can inherit from the ‚Äúparent‚Äù or ‚Äúsuper‚Äù class Wizard as the line
          super().__init__(name) runs the init method of Wizard. Finally, notice
          that the last lines of this code create a wizard called Albus, a
          student called Harry, and so on.
        </p>

        <!-- Completion Checkbox -->
        <div class="section-complete" id="complete-lec8-section-8">
          <input
            type="checkbox"
            class="section-checkbox"
            id="checkbox-lec8-section-8"
            data-section-id="lec8-section-8"
            data-xp="10"
            onchange="handleSectionComplete(this)"
          />
          <label for="checkbox-lec8-section-8" class="section-checkbox-label">
            ‚úì I understand this topic
          </label>
          <span class="xp-badge" id="xp-badge-lec8-section-8">+10 XP</span>
        </div>
      </section>

      <!-- 9. Inheritance and Exceptions -->
      <section class="reveal mb-12" data-section-id="lec8-section-9">
        <h2 class="text-2xl font-bold mb-3 flex items-center gap-2">
          <span class="text-red-500">üîó</span> Inheritance and Exceptions
        </h2>
        <p class="mb-4">
          While we have just introduced inheritance, we have been using this all
          along during our use of exceptions. It just so happens that exceptions
          come in a hierarchy, where there are children, parent, and grandparent
          classes. These are illustrated below:
        </p>
        <div class="code-box">
          <button class="copy-btn" onclick="copyCode(this)">Copy</button
          >BaseException<br />
          +-- KeyboardInterrupt<br />
          +-- Exception<br />
          +-- ArithmeticError<br />
          | +-- ZeroDivisionError<br />
          +-- AssertionError<br />
          +-- AttributeError<br />
          +-- EOFError<br />
          +-- ImportError<br />
          | +-- ModuleNotFoundError<br />
          +-- LookupError<br />
          | +-- KeyError<br />
          +-- NameError<br />
          +-- SyntaxError<br />
          | +-- IndentationError<br />
          +-- ValueError
        </div>
        <p class="mt-3">
          You can learn more in Python‚Äôs
          <a
            href="https://docs.python.org/3/library/exceptions.html"
            target="_blank"
            class="underline"
            >documentation of exceptions</a
          >.
        </p>

        <!-- Completion Checkbox -->
        <div class="section-complete" id="complete-lec8-section-9">
          <input
            type="checkbox"
            class="section-checkbox"
            id="checkbox-lec8-section-9"
            data-section-id="lec8-section-9"
            data-xp="10"
            onchange="handleSectionComplete(this)"
          />
          <label for="checkbox-lec8-section-9" class="section-checkbox-label">
            ‚úì I understand this topic
          </label>
          <span class="xp-badge" id="xp-badge-lec8-section-9">+10 XP</span>
        </div>
      </section>

      <!-- 10. Operator Overloading -->
      <section class="reveal mb-12" data-section-id="lec8-section-10">
        <h2 class="text-2xl font-bold mb-3 flex items-center gap-2">
          <span class="text-cyan-500">‚ûï</span> Operator Overloading
        </h2>
        <p class="mb-4">
          Some operators such as + and - can be ‚Äúoverloaded‚Äù such that they can
          have more abilities beyond simple arithmetic. In your terminal window,
          type code vault.py. Then, code as follows:
        </p>
        <div class="code-box">
          <button class="copy-btn" onclick="copyCode(this)">Copy</button>class
          Vault:<br />
          def __init__(self, galleons=0, sickles=0, knuts=0):<br />
          self.galleons = galleons<br />
          self.sickles = sickles<br />
          self.knuts = knuts<br /><br />
          def __str__(self):<br />
          return f"{self.galleons} Galleons, {self.sickles} Sickles,
          {self.knuts} Knuts"<br /><br />
          def __add__(self, other):<br />
          galleons = self.galleons + other.galleons<br />
          sickles = self.sickles + other.sickles<br />
          knuts = self.knuts + other.knuts<br />
          return Vault(galleons, sickles, knuts)<br /><br /><br />potter =
          Vault(100, 50, 25)<br />print(potter)<br /><br />weasley = Vault(25,
          50, 100)<br />print(weasley)<br /><br />total = potter + weasley<br />print(total)
        </div>
        <p class="mt-3">
          Notice how the __str__ method returns a formatted string. Further,
          notice how the __add__ method allows for the addition of the values of
          two vaults. self is what is on the left of the + operand. other is
          what is right of the +. <br />
          You can learn more in Python‚Äôs
          <a
            href="https://docs.python.org/3/reference/datamodel.html#special-method-names"
            target="_blank"
            class="underline"
            >documentation of operator overloading</a
          >.
        </p>

        <!-- Completion Checkbox -->
        <div class="section-complete" id="complete-lec8-section-10">
          <input
            type="checkbox"
            class="section-checkbox"
            id="checkbox-lec8-section-10"
            data-section-id="lec8-section-10"
            data-xp="10"
            onchange="handleSectionComplete(this)"
          />
          <label for="checkbox-lec8-section-10" class="section-checkbox-label">
            ‚úì I understand this topic
          </label>
          <span class="xp-badge" id="xp-badge-lec8-section-10">+10 XP</span>
        </div>
      </section>

      <!-- 11. Summing Up -->
      <section
        class="reveal mb-12 p-6 bg-gradient-to-r from-teal-50 to-blue-50 dark:from-teal-900/20 dark:to-blue-900/20 rounded-xl"
        data-section-id="lec8-section-11"
      >
        <h2 class="text-2xl font-bold mb-3">Summing Up</h2>
        <p class="mb-4">
          Now, you‚Äôve learned a whole new level of capability through
          object-oriented programming.
        </p>
        <ul class="list-disc ml-6 space-y-1">
          <li>Object-oriented programming</li>
          <li>Classes</li>
          <li>raise</li>
          <li>Class Methods</li>
          <li>Static Methods</li>
          <li>Inheritance</li>
          <li>Operator Overloading</li>
        </ul>
        <div class="mt-4">
          <a
            href="/lec9"
            class="inline-flex items-center gap-2 px-5 py-2.5 rounded-lg bg-teal-600 text-white hover:bg-teal-700 transition"
            >Next Lecture ‚Üí</a
          >
        </div>

        <!-- Completion Checkbox -->
        <div class="section-complete" id="complete-lec8-section-11">
          <input
            type="checkbox"
            class="section-checkbox"
            id="checkbox-lec8-section-11"
            data-section-id="lec8-section-11"
            data-xp="10"
            onchange="handleSectionComplete(this)"
          />
          <label for="checkbox-lec8-section-11" class="section-checkbox-label">
            ‚úì I understand this topic
          </label>
          <span class="xp-badge" id="xp-badge-lec8-section-11">+10 XP</span>
        </div>
      </section>

      <!-- 12. Live Playground -->
      <section class="reveal mb-12" data-section-id="lec8-section-12">
        <h2 class="text-2xl font-bold mb-3 flex items-center gap-2">
          <span class="text-teal-500">üöÄ</span> Live Playground
        </h2>
        <p>
          Edit the code below and hit <strong>Run</strong>‚Äîno servers, no
          installs.
        </p>
        <textarea id="playground" class="code-box w-full h-48 mt-3">
# Try your own class!
class Student:
    def __init__(self, name, house):
        self.name = name
        self.house = house

    def __str__(self):
        return f"{self.name} from {self.house}"

harry = Student("Harry", "Gryffindor")
print(harry)</textarea
        >
        <div class="flex items-center gap-3 mt-3">
          <button
            onclick="runCode()"
            class="px-5 py-2 rounded-lg bg-teal-600 text-white hover:bg-teal-700 transition"
          >
            ‚ñ∂ Run
          </button>
          <button
            onclick="resetCode()"
            class="px-5 py-2 rounded-lg bg-gray-200 dark:bg-gray-700 hover:bg-gray-300 dark:hover:bg-gray-600 transition"
          >
            Reset
          </button>
        </div>
        <div id="playground-out" class="output-box mt-3">
          Output will appear here‚Ä¶
        </div>

        <!-- Completion Checkbox -->
        <div class="section-complete" id="complete-lec8-section-12">
          <input
            type="checkbox"
            class="section-checkbox"
            id="checkbox-lec8-section-12"
            data-section-id="lec8-section-12"
            data-xp="10"
            onchange="handleSectionComplete(this)"
          />
          <label for="checkbox-lec8-section-12" class="section-checkbox-label">
            ‚úì I understand this topic
          </label>
          <span class="xp-badge" id="xp-badge-lec8-section-12">+10 XP</span>
        </div>
      </section>
    </main>
    <!-- =========  PSET8 QUESTIONS & HINTS ‚Äì DOPE STYLING  ========= -->
    <section class="reveal mt-12" data-section-id="lec8-section-13">
      <!-- neon-gradient title -->
      <h2
        class="text-4xl font-extrabold mb-10 text-center bg-clip-text text-transparent bg-gradient-to-r from-pink-500 via-rose-500 to-fuchsia-500 drop-shadow-[0_0_10px_rgba(236,72,153,0.5)] dark:drop-shadow-[0_0_15px_rgba(244,114,182,0.6)]"
      >
        üå∏ PSET 8 ‚Äì OOP, Dates, PDFs & Vibes
      </h2>

      <!-- glowing card grid -->
      <div class="grid md:grid-cols-2 lg:grid-cols-3 gap-6">
        <!-- 1. Seasons of Love -->
        <div
          class="group relative bg-gradient-to-br from-pink-50 to-rose-50 dark:from-gray-900 dark:to-pink-900/30 rounded-2xl p-6 shadow-xl dark:shadow-black/30 ring-1 ring-pink-200 dark:ring-pink-700 hover:ring-pink-400 transition-all duration-300 hover:-translate-y-1 hover:shadow-2xl hover:shadow-pink-500/20"
        >
          <div
            class="absolute -top-3 -right-3 w-12 h-12 grid place-items-center rounded-full bg-gradient-to-br from-pink-500 to-rose-600 text-white font-bold shadow-lg drop-shadow-md"
          >
            1
          </div>
          <h3 class="text-xl font-bold mb-3 text-pink-700 dark:text-pink-300">
            Seasons of Love
          </h3>
          <p class="text-sm mb-3 text-slate-700 dark:text-slate-300">
            Birth date (YYYY-MM-DD) ‚Üí age in minutes ‚Üí print in words (no
            numerals, no ‚Äúand‚Äù).
          </p>
          <div
            class="inline-flex items-center gap-2 px-3 py-1 rounded-full bg-pink-100 dark:bg-pink-800/30 text-pink-700 dark:text-pink-300 text-xs font-medium"
          >
            datetime + inflect
          </div>
          <p class="text-xs mt-3 text-slate-500 dark:text-slate-400">
            Hinglish: midnight to midnight ‚Üí days√ó24√ó60 ‚Üí
            inflect.engine().number_to_words(minutes) ‚Üí strip ‚Äúand‚Äù.
          </p>
        </div>

        <!-- 2. Cookie Jar -->
        <div
          class="group relative bg-gradient-to-br from-amber-50 to-orange-50 dark:from-gray-900 dark:to-amber-900/30 rounded-2xl p-6 shadow-xl dark:shadow-black/40 ring-1 ring-amber-200 dark:ring-amber-700 hover:ring-amber-400 transition-all duration-300 hover:-translate-y-1 hover:shadow-2xl hover:shadow-amber-500/20"
        >
          <div
            class="absolute -top-3 -right-3 w-12 h-12 grid place-items-center rounded-full bg-gradient-to-br from-amber-500 to-orange-600 text-white font-bold shadow-lg drop-shadow-md"
          >
            2
          </div>
          <h3 class="text-xl font-bold mb-3 text-amber-700 dark:text-amber-300">
            Cookie Jar
          </h3>
          <p class="text-sm mb-3 text-slate-700 dark:text-slate-300">
            Jar class: capacity, deposit, withdraw, üç™ string; raise ValueError
            on bad ops.
          </p>
          <div
            class="inline-flex items-center gap-2 px-3 py-1 rounded-full bg-amber-100 dark:bg-amber-800/30 text-amber-700 dark:text-amber-300 text-xs font-medium"
          >
            OOP + validation
          </div>
          <p class="text-xs mt-3 text-slate-500 dark:text-slate-400">
            Hinglish: __init__ capacity int ‚â•0, deposit/withdraw check
            overflow/underflow, __str__ returns "üç™"*size.
          </p>
        </div>

        <!-- 3. CS50 Shirtificate -->
        <div
          class="group relative bg-gradient-to-br from-emerald-50 to-teal-50 dark:from-gray-900 dark:to-emerald-900/30 rounded-2xl p-6 shadow-xl dark:shadow-black/40 ring-1 ring-emerald-200 dark:ring-emerald-700 hover:ring-emerald-400 transition-all duration-300 hover:-translate-y-1 hover:shadow-2xl hover:shadow-emerald-500/20 md:col-span-2 lg:col-span-1"
        >
          <div
            class="absolute -top-3 -right-3 w-12 h-12 grid place-items-center rounded-full bg-gradient-to-br from-emerald-500 to-teal-600 text-white font-bold shadow-lg drop-shadow-md"
          >
            3
          </div>
          <h3
            class="text-xl font-bold mb-3 text-emerald-700 dark:text-emerald-300"
          >
            CS50 Shirtificate
          </h3>
          <p class="text-sm mb-3 text-slate-700 dark:text-slate-300">
            User name lo, fpdf2 se shirt image pe name centered daal ke
            shirtificate.pdf banao.
          </p>
          <div
            class="inline-flex items-center gap-2 px-3 py-1 rounded-full bg-emerald-100 dark:bg-emerald-800/30 text-emerald-700 dark:text-emerald-300 text-xs font-medium"
          >
            fpdf2 + image + text
          </div>
          <p class="text-xs mt-3 text-slate-500 dark:text-slate-400">
            Hinglish: pdf.add_page(), pdf.image("shirt.png", x=0, y=0, w=pdf.w),
            pdf.set_font, pdf.cell(center=True) ‚Üí output shirtificate.pdf.
          </p>
        </div>
      </div>

      <!-- core themes banner -->
      <div
        class="mt-10 p-5 bg-gradient-to-r from-pink-500/10 via-rose-500/10 to-fuchsia-500/10 dark:from-pink-500/20 dark:via-rose-500/20 dark:to-fuchsia-500/20 rounded-2xl border border-pink-300 dark:border-pink-700 text-center"
      >
        <p class="font-bold text-slate-800 dark:text-slate-200">
          üß† Core Themes in PSET 8
        </p>
        <p class="text-sm mt-2 text-slate-600 dark:text-slate-300">
          OOP: classes, encapsulation, __init__, __str__ | Validation:
          constructor & method checks | Libraries: external PDF + word libs |
          Modularity: small testable functions
        </p>
      </div>

      <!-- output expectations table -->
      <div class="mt-6 overflow-x-auto">
        <table
          class="w-full text-sm text-left text-slate-700 dark:text-slate-300 rounded-xl shadow-lg ring-1 ring-slate-200 dark:ring-slate-700"
        >
          <thead
            class="text-xs uppercase bg-gradient-to-r from-pink-100 to-rose-100 dark:from-pink-900/40 dark:to-rose-900/40"
          >
            <tr>
              <th scope="col" class="px-6 py-3 rounded-tl-lg">Problem</th>
              <th scope="col" class="px-6 py-3 rounded-tr-lg">
                Expected Output Format
              </th>
            </tr>
          </thead>
          <tbody>
            <tr
              class="bg-white/70 dark:bg-gray-800/50 border-b dark:border-slate-700"
            >
              <td
                class="px-6 py-4 font-medium text-pink-700 dark:text-pink-300"
              >
                Seasons of Love
              </td>
              <td class="px-6 py-4">
                Eight hundred twenty‚Äëtwo thousand five hundred thirty‚Äësix
                minutes
              </td>
            </tr>
            <tr
              class="bg-white/70 dark:bg-gray-800/50 border-b dark:border-slate-700"
            >
              <td
                class="px-6 py-4 font-medium text-amber-700 dark:text-amber-300"
              >
                Cookie Jar
              </td>
              <td class="px-6 py-4">üç™üç™üç™</td>
            </tr>
            <tr class="bg-white/70 dark:bg-gray-800/50">
              <td
                class="px-6 py-4 font-medium text-emerald-700 dark:text-emerald-300 rounded-bl-lg"
              >
                Shirtificate
              </td>
              <td class="px-6 py-4 rounded-br-lg">
                A PDF with a stylised certificate
              </td>
            </tr>
          </tbody>
        </table>
      </div>

      <!-- footer note -->
      <p class="mt-4 text-xs text-center text-slate-500 dark:text-slate-400">
        Exact string formatting matters ‚Äî tests are strict. Happy coding! üéÄ
      </p>

      <!-- Completion Checkbox -->
      <div class="section-complete" id="complete-lec8-section-13">
        <input
          type="checkbox"
          class="section-checkbox"
          id="checkbox-lec8-section-13"
          data-section-id="lec8-section-13"
          data-xp="10"
          onchange="handleSectionComplete(this)"
        />
        <label for="checkbox-lec8-section-13" class="section-checkbox-label">
          ‚úì I understand this topic
        </label>
        <span class="xp-badge" id="xp-badge-lec8-section-13">+10 XP</span>
      </div>
    </section>
    <!-- =========  FOOTER  ========= -->
    <footer class="bg-gray-900 text-white py-8 mt-12">
      <div class="max-w-4xl mx-auto px-4 text-center text-gray-400">
        ¬© 2024 PythonLearn ‚Äì built with ‚ù§Ô∏è for every future Pythonista.
      </div>
    </footer>

    <!-- =========  EXISTING JS  ========= -->
    <script>
      /* ----- dark mode toggle (respects your nav) ----- */
      if (
        localStorage.theme === "dark" ||
        (!("theme" in localStorage) &&
          window.matchMedia("(prefers-color-scheme: dark)").matches)
      ) {
        document.documentElement.setAttribute("data-theme", "dark");
      } else {
        document.documentElement.setAttribute("data-theme", "light");
      }

      /* ----- scroll reveal ----- */
      const reveals = document.querySelectorAll(".reveal");
      const observer = new IntersectionObserver(
        (entries) => {
          entries.forEach((entry) => {
            if (entry.isIntersecting) {
              anime({
                targets: entry.target,
                opacity: 1,
                translateY: 0,
                duration: 600,
                easing: "easeOutQuad",
              });
              observer.unobserve(entry.target);
            }
          });
        },
        { threshold: 0.15 }
      );
      reveals.forEach((el) => observer.observe(el));

      /* ----- copy code ----- */
      function copyCode(btn) {
        const box = btn.parentElement;
        const code = box.textContent.trim();
        navigator.clipboard.writeText(code);
        btn.textContent = "Copied!";
        setTimeout(() => (btn.textContent = "Copy"), 1200);
      }

      /* ----- live runner (Skulpt) ----- */
      function outf(text) {
        const out = document.getElementById("playground-out");
        out.textContent += text;
      }
      function builtinRead(x) {
        if (
          Sk.builtinFiles === undefined ||
          Sk.builtinFiles["files"][x] === undefined
        )
          throw new Error("File not found: " + x);
        return Sk.builtinFiles["files"][x];
      }
      function runCode() {
        const prog = document.getElementById("playground").value;
        document.getElementById("playground-out").textContent = "";
        Sk.pre = "playground-out";
        Sk.configure({
          output: outf,
          read: builtinRead,
          __future__: Sk.python3,
        });
        (Sk.TurtleGraphics || (Sk.TurtleGraphics = {})).target =
          "playground-out";
        const myPromise = Sk.misceval.asyncToPromise(() =>
          Sk.importMainWithBody("<stdin>", false, prog, true)
        );
        myPromise.then(
          () => {
            const out = document.getElementById("playground-out").textContent;
            if (out.includes("from")) {
              const cel = document.getElementById("celebrate");
              if (cel) {
                cel.classList.remove("hidden");
                cel.querySelector("span").classList.add("check-celebration");
              }
            }
          },
          (err) => {
            document.getElementById("playground-out").textContent =
              err.toString();
          }
        );
      }
      function resetCode() {
        document.getElementById("playground").value = `class Student:
    def __init__(self, name, house):
        self.name = name
        self.house = house

    def __str__(self):
        return f"{self.name} from {self.house}"

harry = Student("Harry", "Gryffindor")
print(harry)`;
        document.getElementById("playground-out").textContent =
          "Output will appear here‚Ä¶";
      }

      /* highlight current lecture */
      document.querySelectorAll(".lecture2-nav a").forEach((a) => {
        if (a.href.endsWith("lec8.html"))
          a.classList.add("bg-teal-700", "text-white");
      });
    </script>
    \n
    <script>
      \n
              /* ----- dark mode toggle (respects your nav) ----- */
              if (
                localStorage.theme === "dark" ||
                (!("theme" in localStorage) &&
                  window.matchMedia("(prefers-color-scheme: dark)").matches)
              ) {
                document.documentElement.setAttribute("data-theme", "dark");
              } else {
                document.documentElement.setAttribute("data-theme", "light");
              }

              /* ----- scroll reveal ----- */
              const reveals = document.querySelectorAll(".reveal");
              const observer = new IntersectionObserver(
                (entries) => {
                  entries.forEach((entry) => {
                    if (entry.isIntersecting) {
                      anime({
                        targets: entry.target,
                        opacity: 1,
                        translateY: 0,
                        duration: 600,
                        easing: "easeOutQuad",
                      });
                      observer.unobserve(entry.target);
                    }
                  });
                },
                { threshold: 0.15 }
              );
              reveals.forEach((el) => observer.observe(el));

              /* ----- copy code ----- */
              function copyCode(btn) {
                const box = btn.parentElement;
                const code = box.textContent.trim();
                navigator.clipboard.writeText(code);
                btn.textContent = "Copied!";
                setTimeout(() => (btn.textContent = "Copy"), 1200);
              }

              /* ----- live runner (Skulpt) ----- */
              function outf(text) {
                const out = document.getElementById("playground-out");
                out.textContent += text;
              }
              function builtinRead(x) {
                if (
                  Sk.builtinFiles === undefined ||
                  Sk.builtinFiles["files"][x] === undefined
                )
                  throw new Error("File not found: " + x);
                return Sk.builtinFiles["files"][x];
              }
              function runCode() {
                const prog = document.getElementById("playground").value;
                document.getElementById("playground-out").textContent = "";
                Sk.pre = "playground-out";
                Sk.configure({
                  output: outf,
                  read: builtinRead,
                  __future__: Sk.python3,
                });
                (Sk.TurtleGraphics || (Sk.TurtleGraphics = {})).target =
                  "playground-out";
                const myPromise = Sk.misceval.asyncToPromise(() =>
                  Sk.importMainWithBody("<stdin>", false, prog, true)
                );
                myPromise.then(
                  () => {
                    const out = document.getElementById("playground-out").textContent;
                    if (out.includes("¬∞F") || out.includes("¬∞C")) {
                      const cel = document.getElementById("celebrate");
                      cel.classList.remove("hidden");
                      cel.querySelector("span").classList.add("check-celebration");
                    }
                  },
                  (err) => {
                    document.getElementById("playground-out").textContent =
                      err.toString();
                  }
                );
              }
              function resetCode() {
                document.getElementById(
                  "playground"
                ).value = `name = input("What's your name? ")
      print(f"hello, {name}")`;
                document.getElementById("playground-out").textContent =
                  "Output will appear here‚Ä¶";
              }

              /* highlight current lecture */
              document.querySelectorAll(".lecture2-nav a").forEach((a) => {
                if (a.href.endsWith("lec0.html"))
                  a.classList.add("bg-teal-700", "text-white");
              });

              /* =========  TEXT-TO-SPEECH FUNCTIONALITY  ========= */
              let synth = window.speechSynthesis;
              let currentUtterance = null;
              let isReading = false;
              let currentHighlight = null;

              // Toggle TTS panel
              function toggleTTS() {
                const container = document.getElementById("ttsContainer");
                const controls = document.getElementById("ttsControls");
                const icon = document.getElementById("ttsToggleIcon");

                if (container.classList.contains("collapsed")) {
                  container.classList.remove("collapsed");
                  controls.style.display = "block";
                  icon.textContent = "‚àí";
                } else {
                  container.classList.add("collapsed");
                  controls.style.display = "none";
                  icon.textContent = "+";
                }
              }

              // Get selected text
              function getSelectedText() {
                const selection = window.getSelection();
                return selection.toString().trim();
              }

              // Remove previous highlights
              function removeHighlights() {
                if (currentHighlight) {
                  currentHighlight.classList.remove("tts-reading");
                  currentHighlight = null;
                }
                document.querySelectorAll(".tts-reading").forEach((el) => {
                  el.classList.remove("tts-reading");
                });
              }

              // Speak text
              function speakText(text, element = null) {
                if (!text) {
                  updateStatus("No text selected");
                  return;
                }

                // Stop any current speech
                stopTTS();

                // Remove HTML tags and clean text
                const cleanText = text
                  .replace(/<[^>]*>/g, "")
                  .replace(/\s+/g, " ")
                  .trim();

                if (!cleanText) {
                  updateStatus("No readable text found");
                  return;
                }

                // Create utterance
                currentUtterance = new SpeechSynthesisUtterance(cleanText);
                const speed = parseFloat(
                  document.getElementById("ttsSpeedSlider").value
                );
                currentUtterance.rate = speed;
                currentUtterance.pitch = 1;
                currentUtterance.volume = 1;

                // Highlight element being read
                if (element) {
                  removeHighlights();
                  element.classList.add("tts-reading");
                  currentHighlight = element;

                  // Scroll to element
                  element.scrollIntoView({ behavior: "smooth", block: "center" });
                }

                // Event handlers
                currentUtterance.onstart = () => {
                  isReading = true;
                  updateButtons(true);
                  updateStatus("Reading...");
                };

                currentUtterance.onend = () => {
                  isReading = false;
                  updateButtons(false);
                  removeHighlights();
                  updateStatus("Finished reading");
                  setTimeout(
                    () => updateStatus('Select text or click "Read Section"'),
                    2000
                  );
                };

                currentUtterance.onerror = (event) => {
                  isReading = false;
                  updateButtons(false);
                  removeHighlights();
                  updateStatus("Error: " + event.error);
                };

                // Speak
                synth.speak(currentUtterance);
              }

              // Play selected text
              function playSelectedText() {
                const selectedText = getSelectedText();
                if (selectedText) {
                  speakText(selectedText);
                  updateStatus("Reading selected text...");
                } else {
                  updateStatus("Please select some text first");
                  // Try to read the current section if nothing is selected
                  readCurrentSection();
                }
              }

              // Read current section (section in viewport)
              function readCurrentSection() {
                const sections = document.querySelectorAll("section.reveal");
                let targetSection = null;

                // Find the section currently in viewport
                sections.forEach((section) => {
                  const rect = section.getBoundingClientRect();
                  if (rect.top >= 0 && rect.top <= window.innerHeight / 2) {
                    targetSection = section;
                  }
                });

                // If no section in viewport, use the first one
                if (!targetSection && sections.length > 0) {
                  targetSection = sections[0];
                }

                if (targetSection) {
                  // Get all text from section (excluding code blocks)
                  const codeBoxes = targetSection.querySelectorAll(
                    ".code-box, .output-box"
                  );
                  codeBoxes.forEach((box) => (box.style.display = "none"));

                  const text = targetSection.innerText || targetSection.textContent;

                  codeBoxes.forEach((box) => (box.style.display = ""));

                  if (text) {
                    speakText(text, targetSection);
                    updateStatus(
                      "Reading section: " +
                        (targetSection.querySelector("h2")?.textContent || "Section")
                    );
                  } else {
                    updateStatus("No text found in section");
                  }
                } else {
                  updateStatus("No section found");
                }
              }

              // Stop TTS
              function stopTTS() {
                if (synth.speaking) {
                  synth.cancel();
                }
                isReading = false;
                updateButtons(false);
                removeHighlights();
                updateStatus("Stopped");
                setTimeout(
                  () => updateStatus('Select text or click "Read Section"'),
                  2000
                );
              }

              // Update button states
              function updateButtons(reading) {
                document.getElementById("ttsPlayBtn").disabled = reading;
                document.getElementById("ttsSectionBtn").disabled = reading;
                document.getElementById("ttsStopBtn").disabled = !reading;
              }

              // Update status message
              function updateStatus(message) {
                document.getElementById("ttsStatus").textContent = message;
              }

              // Speed slider update
              document
                .getElementById("ttsSpeedSlider")
                .addEventListener("input", function (e) {
                  const speed = parseFloat(e.target.value);
                  document.getElementById("ttsSpeedValue").textContent =
                    speed.toFixed(1) + "x";
                  if (currentUtterance && isReading) {
                    synth.cancel();
                    currentUtterance.rate = speed;
                    synth.speak(currentUtterance);
                  }
                });

              // Stop on page unload
              window.addEventListener("beforeunload", () => {
                stopTTS();
              });

              // Double-click to read paragraph
              document.addEventListener("dblclick", function (e) {
                if (e.target.tagName === "P" || e.target.closest("p")) {
                  const paragraph =
                    e.target.tagName === "P" ? e.target : e.target.closest("p");
                  const text = paragraph.innerText || paragraph.textContent;
                  if (text.trim()) {
                    speakText(text, paragraph);
                  }
                }
              });

              /* =========  XP & LEVEL SYSTEM  ========= */
              // XP and Level Management
              const XP_SYSTEM = {
                // XP required for each level (exponential growth)
                getXPForLevel: (level) => {
                  return Math.floor(100 * Math.pow(1.5, level - 1));
                },

                // Calculate level from total XP
                getLevelFromXP: (totalXP) => {
                  let level = 1;
                  let xpNeeded = 0;
                  while (xpNeeded <= totalXP) {
                    xpNeeded += XP_SYSTEM.getXPForLevel(level);
                    if (xpNeeded <= totalXP) {
                      level++;
                    }
                  }
                  return level;
                },

                // Get XP progress for current level
                getXPProgress: (totalXP, level) => {
                  let xpForCurrentLevel = 0;
                  for (let i = 1; i < level; i++) {
                    xpForCurrentLevel += XP_SYSTEM.getXPForLevel(i);
                  }
                  const currentLevelXP = totalXP - xpForCurrentLevel;
                  const xpNeededForLevel = XP_SYSTEM.getXPForLevel(level);
                  return {
                    current: currentLevelXP,
                    needed: xpNeededForLevel,
                    percentage: Math.min(
                      100,
                      (currentLevelXP / xpNeededForLevel) * 100
                    ),
                  };
                },

                // Initialize user data
                init: () => {
                  let userData = JSON.parse(
                    localStorage.getItem("pythonLearnUserData") || "{}"
                  );
                  if (!userData.xp) userData.xp = 0;
                  if (!userData.completedSections) userData.completedSections = [];
                  if (!userData.completedQuizzes) userData.completedQuizzes = [];
                  localStorage.setItem(
                    "pythonLearnUserData",
                    JSON.stringify(userData)
                  );
                  return userData;
                },

                // Add XP
                addXP: (amount, source) => {
                  const userData = XP_SYSTEM.init();
                  const oldLevel = XP_SYSTEM.getLevelFromXP(userData.xp);
                  userData.xp += amount;
                  const newLevel = XP_SYSTEM.getLevelFromXP(userData.xp);

                  localStorage.setItem(
                    "pythonLearnUserData",
                    JSON.stringify(userData)
                  );

                  // Check for level up
                  if (newLevel > oldLevel) {
                    XP_SYSTEM.showLevelUp(newLevel);
                  }

                  XP_SYSTEM.updateDisplay();
                  return {
                    xp: userData.xp,
                    level: newLevel,
                    leveledUp: newLevel > oldLevel,
                  };
                },

                // Show level up animation
                showLevelUp: (level) => {
                  const levelUpModal = document.createElement("div");
                  levelUpModal.className = "level-up-modal";
                  levelUpModal.innerHTML = `
                    <div class="level-up-content">
                      <div class="level-up-icon">üéâ</div>
                      <h2>Level Up!</h2>
                      <p class="level-up-text">You've reached Level ${level}!</p>
                      <p class="level-up-subtext">Keep learning to unlock more levels!</p>
                      <button onclick="this.closest('.level-up-modal').remove()" class="level-up-btn">Awesome!</button>
                    </div>
                  `;
                  document.body.appendChild(levelUpModal);
                  setTimeout(() => levelUpModal.classList.add("show"), 100);
                },

                // Update XP and Level display
                updateDisplay: () => {
                  const userData = XP_SYSTEM.init();
                  const level = XP_SYSTEM.getLevelFromXP(userData.xp);
                  const progress = XP_SYSTEM.getXPProgress(userData.xp, level);

                  // Update nav display
                  const xpDisplay = document.getElementById("user-xp-display");
                  const levelDisplay = document.getElementById("user-level-display");

                  if (xpDisplay) {
                    xpDisplay.textContent = `XP: ${userData.xp}`;
                  }
                  if (levelDisplay) {
                    levelDisplay.textContent = `Level ${level}`;
                  }
                },

                // Load completed sections
                loadCompletedSections: () => {
                  const userData = XP_SYSTEM.init();
                  if (userData.completedSections) {
                    userData.completedSections.forEach((sectionId) => {
                      const checkbox = document.getElementById(
                        `checkbox-${sectionId}`
                      );
                      const completeDiv = document.getElementById(
                        `complete-${sectionId}`
                      );
                      if (checkbox) {
                        checkbox.checked = true;
                        if (completeDiv) {
                          completeDiv.classList.add("completed");
                        }
                      }
                    });
                  }
                },
              };

              // Handle section completion
              function handleSectionComplete(checkbox) {
                const sectionId = checkbox.dataset.sectionId;
                const xpAmount = parseInt(checkbox.dataset.xp || 10);
                const completeDiv = document.getElementById(`complete-${sectionId}`);
                const xpBadge = document.getElementById(`xp-badge-${sectionId}`);

                if (checkbox.checked) {
                  // Mark as completed
                  if (completeDiv) {
                    completeDiv.classList.add("completed");
                  }

                  // Add XP
                  const result = XP_SYSTEM.addXP(xpAmount, "section");

                  // Update user data
                  const userData = XP_SYSTEM.init();
                  if (!userData.completedSections.includes(sectionId)) {
                    userData.completedSections.push(sectionId);
                    localStorage.setItem(
                      "pythonLearnUserData",
                      JSON.stringify(userData)
                    );

                    // Show XP animation
                    if (xpBadge) {
                      xpBadge.classList.add("earned");
                      setTimeout(() => xpBadge.classList.remove("earned"), 500);
                    }

                    // Show notification
                    showXPNotification(`+${xpAmount} XP`, result.leveledUp);
                  }
                } else {
                  // Uncheck - remove XP (optional, or keep it)
                  if (completeDiv) {
                    completeDiv.classList.remove("completed");
                  }

                  // Remove from completed sections
                  const userData = XP_SYSTEM.init();
                  userData.completedSections = userData.completedSections.filter(
                    (id) => id !== sectionId
                  );
                  localStorage.setItem(
                    "pythonLearnUserData",
                    JSON.stringify(userData)
                  );
                }
              }

              // Show XP notification
              function showXPNotification(message, leveledUp = false) {
                const notification = document.createElement("div");
                notification.className = "xp-notification";
                notification.textContent = message;
                if (leveledUp) {
                  notification.classList.add("level-up");
                }
                document.body.appendChild(notification);
                setTimeout(() => notification.classList.add("show"), 100);
                setTimeout(() => {
                  notification.classList.remove("show");
                  setTimeout(() => notification.remove(), 300);
                }, 2000);
              }

              // Initialize on page load
              document.addEventListener("DOMContentLoaded", () => {
                XP_SYSTEM.updateDisplay();
                XP_SYSTEM.loadCompletedSections();
              });
            \n
    </script>
    \n
  </body>
</html>
