<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Lecture 0 ‚Äì Python First Steps ‚ú®</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/animejs/3.2.1/anime.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/skulpt@1.2.0/dist/skulpt.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/skulpt@1.2.0/dist/skulpt-stdlib.js"></script>
    <style>
      @import url("https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700&family=JetBrains+Mono:wght@400;500&display=swap");

      :root {
        --bg: #ffffff;
        --text: #1f2937;
        --accent: #0d9488;
        --accent-dark: #115e59;
        --surface: #f9fafb;
        --border: #e5e7eb;

        /* Modern Tech Brand Colors */
        --primary-600: #3b82f6;
        --primary-700: #2563eb;
        --primary-800: #1d4ed8;
        --secondary-600: #6366f1;
        --secondary-700: #4f46e5;
        --secondary-800: #4338ca;
        --accent-500: #10b981;
        --accent-600: #059669;
        --slate-50: #f8fafc;
        --slate-100: #f1f5f9;
        --slate-200: #e2e8f0;
        --slate-300: #cbd5e1;
        --slate-400: #94a3b8;
        --slate-600: #475569;
        --slate-700: #334155;
        --slate-800: #1e293b;
        --slate-900: #0f172a;
        --white: #ffffff;
      }
      [data-theme="dark"] {
        --bg: #0f172a;
        --text: #f1f5f9;
        --surface: #1e293b;
        --border: #334155;

        --primary-600: #2dd4bf;
        --primary-700: #14b8a6;
        --primary-800: #0d9488;
        --secondary-600: #fb923c;
        --secondary-700: #f97316;
        --secondary-800: #ea580c;
        --accent-500: #4ade80;
        --slate-50: #0b1120;
        --slate-100: #111827;
        --slate-200: #1f2937;
        --slate-300: #374151;
        --slate-400: #4b5563;
        --slate-600: #9ca3af;
        --slate-700: #d1d5db;
        --slate-800: #e5e7eb;
        --slate-900: #f9fafb;
        --white: #0b1120;
      }

      /* Premium Navigation */
      .nav-glassmorphism {
        background: rgba(255, 255, 255, 0.98);
        backdrop-filter: blur(20px);
        border-bottom: 1px solid rgba(226, 232, 240, 0.8);
        box-shadow: 0 1px 3px rgba(0, 0, 0, 0.1);
        position: sticky;
        top: 0;
        z-index: 1000;
      }

      .nav-link {
        position: relative;
        font-weight: 500;
        transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
      }

      .nav-link::after {
        content: "";
        position: absolute;
        bottom: -2px;
        left: 0;
        right: 0;
        height: 2px;
        background: linear-gradient(
          90deg,
          var(--primary-600),
          var(--secondary-600)
        );
        transform: scaleX(0);
        transition: transform 0.3s ease;
      }

      .nav-link:hover::after,
      .nav-link.active::after {
        transform: scaleX(1);
      }

      .nav-link.active {
        color: var(--primary-600);
        font-weight: 600;
      }

      .text-gradient {
        background: linear-gradient(
          135deg,
          var(--primary-600),
          var(--secondary-600)
        );
        -webkit-background-clip: text;
        -webkit-text-fill-color: transparent;
        background-clip: text;
      }

      /* Section Completion Checkbox */
      .section-complete {
        display: flex;
        align-items: center;
        gap: 12px;
        margin-top: 16px;
        padding: 12px 16px;
        background: var(--slate-50);
        border-radius: 12px;
        border: 2px solid var(--slate-200);
        transition: all 0.3s ease;
      }

      .section-complete:hover {
        border-color: var(--primary-600);
        background: rgba(59, 130, 246, 0.05);
      }

      .section-complete.completed {
        background: rgba(16, 185, 129, 0.1);
        border-color: var(--accent-500);
      }

      .section-checkbox {
        width: 24px;
        height: 24px;
        cursor: pointer;
        accent-color: var(--primary-600);
        flex-shrink: 0;
      }

      .section-checkbox-label {
        font-weight: 600;
        color: var(--slate-700);
        cursor: pointer;
        user-select: none;
        flex: 1;
      }

      .section-complete.completed .section-checkbox-label {
        color: var(--accent-600);
      }

      .xp-badge {
        display: inline-flex;
        align-items: center;
        gap: 4px;
        padding: 4px 12px;
        background: linear-gradient(
          135deg,
          var(--primary-600),
          var(--secondary-600)
        );
        color: white;
        border-radius: 20px;
        font-size: 0.875rem;
        font-weight: 600;
        margin-left: auto;
      }

      .xp-badge.earned {
        animation: xpPop 0.5s ease;
      }

      @keyframes xpPop {
        0%,
        100% {
          transform: scale(1);
        }
        50% {
          transform: scale(1.2);
        }
      }
      body {
        font-family: "Inter", sans-serif;
        background: var(--bg);
        color: var(--text);
        transition: background 0.3s, color 0.3s;
      }
      .code-box {
        background: #1e293b;
        color: #e2e8f0;
        border-radius: 0.75rem;
        padding: 1.25rem;
        font-family: "JetBrains Mono", monospace;
        font-size: 0.95rem;
        position: relative;
        overflow: hidden;
      }
      .output-box {
        background: #0f172a;
        color: #10b981;
        border-radius: 0.75rem;
        padding: 1.25rem;
        font-family: "JetBrains Mono", monospace;
        font-size: 0.95rem;
        min-height: 3rem;
        white-space: pre-wrap;
      }
      /* copy button */
      .copy-btn {
        position: absolute;
        top: 0.75rem;
        right: 0.75rem;
        padding: 0.25rem 0.5rem;
        font-size: 0.75rem;
        background: rgba(255, 255, 255, 0.1);
        border: 1px solid rgba(255, 255, 255, 0.2);
        color: #fff;
        border-radius: 0.5rem;
        cursor: pointer;
        transition: background 0.2s;
      }
      .copy-btn:hover {
        background: rgba(255, 255, 255, 0.2);
      }
      /* scroll-reveal animation helper */
      .reveal {
        opacity: 0;
        transform: translateY(30px);
      }
      /* tiny bounce for cta */
      @keyframes bounce-once {
        0%,
        100% {
          transform: translateY(0);
        }
        50% {
          transform: translateY(-8px);
        }
      }
      .bounce {
        animation: bounce-once 0.6s ease;
      }
      /* celebration checkmark */
      .check-celebration {
        display: inline-block;
        transform: scale(0);
        animation: pop 0.4s forwards;
      }
      @keyframes pop {
        to {
          transform: scale(1.2);
        }
      }

      /* Text-to-Speech Styles */
      .tts-container {
        position: fixed;
        bottom: 20px;
        right: 20px;
        z-index: 1000;
        background: var(--bg);
        border: 2px solid var(--accent);
        border-radius: 16px;
        box-shadow: 0 8px 32px rgba(0, 0, 0, 0.2);
        padding: 16px;
        min-width: 280px;
        max-width: 400px;
        transition: transform 0.3s ease, opacity 0.3s ease;
      }

      .tts-container.collapsed {
        transform: translateY(calc(100% - 60px));
      }

      .tts-header {
        display: flex;
        justify-content: space-between;
        align-items: center;
        margin-bottom: 12px;
        cursor: pointer;
      }

      .tts-title {
        font-weight: 600;
        color: var(--accent);
        display: flex;
        align-items: center;
        gap: 8px;
      }

      .tts-controls {
        display: flex;
        gap: 8px;
        margin-bottom: 12px;
        flex-wrap: wrap;
      }

      .tts-btn {
        padding: 8px 16px;
        border: none;
        border-radius: 8px;
        background: var(--accent);
        color: white;
        cursor: pointer;
        font-size: 14px;
        font-weight: 500;
        transition: all 0.2s;
        display: flex;
        align-items: center;
        gap: 6px;
      }

      .tts-btn:hover {
        background: var(--accent-dark);
        transform: translateY(-2px);
      }

      .tts-btn:disabled {
        opacity: 0.5;
        cursor: not-allowed;
      }

      .tts-btn.secondary {
        background: var(--surface);
        color: var(--text);
        border: 1px solid var(--border);
      }

      .tts-btn.secondary:hover {
        background: var(--border);
      }

      .tts-speed-control {
        display: flex;
        align-items: center;
        gap: 8px;
        margin-top: 8px;
        font-size: 14px;
      }

      .tts-speed-slider {
        flex: 1;
        height: 6px;
        border-radius: 3px;
        background: var(--border);
        outline: none;
        -webkit-appearance: none;
      }

      .tts-speed-slider::-webkit-slider-thumb {
        -webkit-appearance: none;
        appearance: none;
        width: 18px;
        height: 18px;
        border-radius: 50%;
        background: var(--accent);
        cursor: pointer;
      }

      .tts-speed-slider::-moz-range-thumb {
        width: 18px;
        height: 18px;
        border-radius: 50%;
        background: var(--accent);
        cursor: pointer;
        border: none;
      }

      .tts-status {
        font-size: 12px;
        color: var(--text);
        opacity: 0.7;
        margin-top: 8px;
        text-align: center;
      }

      .tts-reading {
        background: rgba(13, 148, 136, 0.1);
        border-left: 3px solid var(--accent);
        padding-left: 8px;
        transition: all 0.3s;
      }

      @media (max-width: 640px) {
        .tts-container {
          bottom: 10px;
          right: 10px;
          left: 10px;
          max-width: none;
        }
      }
    </style>
  </head>
  <body>
    <!-- =========  TOP BAR  ========= -->
    <nav class="nav-glassmorphism">
      <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
        <div class="flex justify-between items-center h-20">
          <!-- Logo -->
          <div class="flex items-center">
            <a href="/" class="text-3xl font-bold text-gradient"
              >üêç PythonLearn</a
            >
          </div>

          <!-- Desktop Navigation -->
          <div class="hidden md:flex items-center space-x-10">
            <a
              href="/"
              class="nav-link text-slate-700 hover:text-primary-600 px-3 py-2"
              >Home</a
            >
            <a
              href="/course"
              class="nav-link text-slate-700 hover:text-primary-600 px-3 py-2 active"
              >Course</a
            >
            <a
              href="/playground"
              class="nav-link text-slate-700 hover:text-primary-600 px-3 py-2"
              >Playground</a
            >
            <a
              href="/quiz"
              class="nav-link text-slate-700 hover:text-primary-600 px-3 py-2"
              >Quiz</a
            >
            <a
              href="/dashboard"
              class="nav-link text-slate-700 hover:text-primary-600 px-3 py-2"
              >Dashboard</a
            >
          </div>

          <!-- XP Display -->
          <div class="hidden md:flex items-center gap-4">
            <div
              class="px-4 py-2 bg-gradient-to-r from-primary-600 to-secondary-600 text-white rounded-lg font-semibold"
            >
              <span id="user-xp-display">XP: 0</span>
            </div>
            <div
              class="px-4 py-2 bg-slate-100 text-slate-700 rounded-lg font-semibold"
            >
              <span id="user-level-display">Level 1</span>
            </div>
          </div>
        </div>
      </div>
    </nav>

    <!-- =========  MINI NAV  ========= -->
    <div class="mini-nav">
      <div
        class="max-w-5xl mx-auto px-4 py-3 flex flex-wrap gap-2 justify-center"
      >
        <a
          href="/lec0"
          class="px-4 py-2 rounded-full bg-emerald-400 hover:bg-emerald-500"
          >Lecture 0</a
        >
        <a
          href="/lec1"
          class="px-4 py-2 rounded-full bg-emerald-400 hover:bg-emerald-500"
          >Lecture 1</a
        >
        <a
          href="/lec2"
          class="px-4 py-2 rounded-full bg-emerald-400 hover:bg-emerald-500"
          >Lecture 2</a
        >
        <a
          href="/lec3"
          class="px-4 py-2 rounded-full bg-emerald-400 hover:bg-emerald-500"
          >Lecture 3</a
        >
        <a
          href="/lec4"
          class="px-4 py-2 rounded-full bg-emerald-400 hover:bg-emerald-500"
          >Lecture 4</a
        >
        <a
          href="/lec5"
          class="px-4 py-2 rounded-full bg-emerald-400 hover:bg-emerald-500"
          >Lecture 5</a
        >
        <a
          href="/lec6"
          class="px-4 py-2 rounded-full bg-emerald-400 hover:bg-emerald-500"
          >Lecture 6</a
        >
        <a
          href="/lec7"
          class="px-4 py-2 rounded-full bg-emerald-400 hover:bg-emerald-500"
          >Lecture 7</a
        >
        <a
          href="/lec8"
          class="px-4 py-2 rounded-full bg-emerald-400 hover:bg-emerald-500"
          >Lecture 8</a
        >
        <a
          href="/lec9"
          class="px-4 py-2 rounded-full bg-emerald-400 hover:bg-emerald-500"
          >Lecture 9</a
        >
      </div>
    </div>

    <body>
      <!-- =========  MAIN CONTENT  ========= -->
      <main class="max-w-4xl mx-auto px-4 py-10">
        <!-- hero -->
        <header class="reveal mb-12 text-center">
          <h1
            class="text-4xl sm:text-5xl font-extrabold mb-3 bg-clip-text text-transparent bg-gradient-to-r from-teal-600 to-blue-500"
          >
            Lecture 0 ‚Äì Creating Code with Python
          </h1>
          <p class="text-lg text-gray-600 dark:text-gray-300">
            Let‚Äôs write code that works, fix bugs, and make friends with
            functions‚Äîno experience needed!
          </p>
        </header>

        <!-- 1. first program -->
        <section class="reveal mb-12" data-section-id="lec0-section-1">
          <h2 class="text-2xl font-bold mb-3 flex items-center gap-2">
            <span class="text-teal-600">üëã</span> Creating Code with Python
          </h2>
          <p class="mb-4">
            VS Code is a text editor. In addition to editing text, you can
            visually browse files and run text-based commands at a terminal.
            <br />
            In the terminal, you can execute <code>code hello.py</code> to start
            coding. <br />
            In the text editor above, you can type
            <code>print("hello, world")</code>. This is a famous canonical
            program that nearly all coders write during their learning process.
            <br />
            In the terminal window, you can execute commands. To run this
            program, you are going to need to move your cursor to the bottom of
            the screen, clicking in the terminal window. You can now type a
            second command in the terminal window. Next to the dollar sign, type
            <code>python hello.py</code> and press the enter key on your
            keyboard. <br />
            Recall that computers really only understand zeros and ones.
            Therefore, when you run <code>python hello.py</code>, Python will
            interpret the text that you created in <code>hello.py</code> and
            translate it into the zeros and ones that the computer can
            understand. <br />
            The result of running the <code>python hello.py</code> program is
            <code>hello, world</code>. <br />
            Congrats! You just created your first program.
          </p>
          <div class="code-box">
            <button class="copy-btn" onclick="copyCode(this)">Copy</button
            >print("hello, world")
          </div>
          <div class="output-box mt-2">hello, world</div>

          <!-- Completion Checkbox -->
          <div class="section-complete" id="complete-lec0-section-1">
            <input
              type="checkbox"
              class="section-checkbox"
              id="checkbox-lec0-section-1"
              data-section-id="lec0-section-1"
              data-xp="10"
              onchange="handleSectionComplete(this)"
            />
            <label for="checkbox-lec0-section-1" class="section-checkbox-label">
              ‚úì I understand this topic
            </label>
            <span class="xp-badge" id="xp-badge-lec0-section-1">+10 XP</span>
          </div>
        </section>

        <!-- 2. functions -->
        <section class="reveal mb-12" data-section-id="lec0-section-2">
          <h2 class="text-2xl font-bold mb-3 flex items-center gap-2">
            <span class="text-teal-600">üîß</span> Functions
          </h2>
          <p class="mb-4">
            Functions are verbs or actions that the computer or computer
            language will already know how to perform. <br />
            In your <code>hello.py</code> program, the
            <code>print</code> function knows how to print to the terminal
            window. <br />
            The <code>print</code> function takes arguments. In this case,
            <code>"hello, world"</code> are the arguments that the
            <code>print</code> function takes.
          </p>

          <!-- Completion Checkbox -->
          <div class="section-complete" id="complete-lec0-section-2">
            <input
              type="checkbox"
              class="section-checkbox"
              id="checkbox-lec0-section-2"
              data-section-id="lec0-section-2"
              data-xp="10"
              onchange="handleSectionComplete(this)"
            />
            <label for="checkbox-lec0-section-2" class="section-checkbox-label">
              ‚úì I understand this topic
            </label>
            <span class="xp-badge" id="xp-badge-lec0-section-2">+10 XP</span>
          </div>
        </section>

        <!-- 3. bugs -->
        <section class="reveal mb-12" data-section-id="lec0-section-3">
          <h2 class="text-2xl font-bold mb-3 flex items-center gap-2">
            <span class="text-red-500">üêõ</span> Bugs
          </h2>
          <p class="mb-4">
            Bugs are a natural part of coding. These are mistakes, problems for
            you to solve! Don't get discouraged! This is part of the process of
            becoming a great programmer. <br />
            Imagine that in our <code>hello.py</code> program we accidentally
            typed <code>print("hello, world"</code>, forgetting the final
            <code>)</code> required by the <code>print</code> function. If you
            make this mistake, the interpreter will output an error in the
            terminal window! <br />
            Error messages can often inform you of your mistakes and provide
            clues on how to fix them. However, there will be many times when the
            interpreter is not this helpful.
          </p>
          <div class="code-box">
            <button class="copy-btn" onclick="copyCode(this)">Copy</button
            >print("hello, world"
          </div>
          <div class="output-box">SyntaxError: '(' was never closed</div>

          <!-- Completion Checkbox -->
          <div class="section-complete" id="complete-lec0-section-3">
            <input
              type="checkbox"
              class="section-checkbox"
              id="checkbox-lec0-section-3"
              data-section-id="lec0-section-3"
              data-xp="10"
              onchange="handleSectionComplete(this)"
            />
            <label for="checkbox-lec0-section-3" class="section-checkbox-label">
              ‚úì I understand this topic
            </label>
            <span class="xp-badge" id="xp-badge-lec0-section-3">+10 XP</span>
          </div>
        </section>

        <!-- 4. variables -->
        <section class="reveal mb-12" data-section-id="lec0-section-4">
          <h2 class="text-2xl font-bold mb-3 flex items-center gap-2">
            <span class="text-indigo-500">üì¶</span> Variables
          </h2>
          <p class="mb-4">
            A variable is just a container for a value within your own program.
            <br />
            In your program, you can introduce your own variable by editing it
            to read
          </p>
          <div class="code-box">
            <button class="copy-btn" onclick="copyCode(this)">Copy</button>name
            = input("What's your name? ")
          </div>
          <p class="mt-3">
            Notice that this equal <code>=</code> sign in the middle of
            <code>name = input("What's your name? ")</code> has a special role
            in programming. This equal sign literally assigns what is on the
            right to what is on the left. Therefore, the value returned by
            <code>input("What's your name? ")</code> is assigned to
            <code>name</code>.
          </p>

          <!-- Completion Checkbox -->
          <div class="section-complete" id="complete-lec0-section-4">
            <input
              type="checkbox"
              class="section-checkbox"
              id="checkbox-lec0-section-4"
              data-section-id="lec0-section-4"
              data-xp="10"
              onchange="handleSectionComplete(this)"
            />
            <label for="checkbox-lec0-section-4" class="section-checkbox-label">
              ‚úì I understand this topic
            </label>
            <span class="xp-badge" id="xp-badge-lec0-section-4">+10 XP</span>
          </div>
        </section>

        <!-- 5. comments -->
        <section class="reveal mb-12" data-section-id="lec0-section-5">
          <h2 class="text-2xl font-bold mb-3 flex items-center gap-2">
            <span class="text-gray-500">üí¨</span> Comments
          </h2>
          <p class="mb-4">
            Comments are a way for programmers to track what they are doing in
            their programs and even inform others about their intentions for a
            block of code. In short, they are notes for yourself and others who
            will see your code! <br />
            You can add comments to your program to be able to see what it is
            that your program is doing. You might edit your code as follows:
          </p>
          <div class="code-box">
            <button class="copy-btn" onclick="copyCode(this)">Copy</button># Ask
            the user for their name<br />name = input("What's your name? ")
          </div>

          <!-- Completion Checkbox -->
          <div class="section-complete" id="complete-lec0-section-5">
            <input
              type="checkbox"
              class="section-checkbox"
              id="checkbox-lec0-section-5"
              data-section-id="lec0-section-5"
              data-xp="10"
              onchange="handleSectionComplete(this)"
            />
            <label for="checkbox-lec0-section-5" class="section-checkbox-label">
              ‚úì I understand this topic
            </label>
            <span class="xp-badge" id="xp-badge-lec0-section-5">+10 XP</span>
          </div>
        </section>

        <!-- 6. pseudocode -->
        <section class="reveal mb-12" data-section-id="lec0-section-6">
          <h2 class="text-2xl font-bold mb-3 flex items-center gap-2">
            <span class="text-purple-500">üß†</span> Pseudocode
          </h2>
          <p class="mb-4">
            Pseudocode is an important type of comment that becomes a special
            type of to-do list, especially when you don't understand how to
            accomplish a coding task. For example, in your code, you might edit
            your code to say:
          </p>
          <div class="code-box">
            # Ask the user for their name<br />name = input("What's your name?
            ")<br /><br /># Print hello<br />print("hello,")<br /><br /># Print
            the name inputted<br />print(name)
          </div>

          <!-- Completion Checkbox -->
          <div class="section-complete" id="complete-lec0-section-6">
            <input
              type="checkbox"
              class="section-checkbox"
              id="checkbox-lec0-section-6"
              data-section-id="lec0-section-6"
              data-xp="10"
              onchange="handleSectionComplete(this)"
            />
            <label for="checkbox-lec0-section-6" class="section-checkbox-label">
              ‚úì I understand this topic
            </label>
            <span class="xp-badge" id="xp-badge-lec0-section-6">+10 XP</span>
          </div>
        </section>

        <!-- 7. improving -->
        <section class="reveal mb-12" data-section-id="lec0-section-7">
          <h2 class="text-2xl font-bold mb-3 flex items-center gap-2">
            <span class="text-green-500">‚ú®</span> Improving Your First Python
            Program
          </h2>
          <p class="mb-4">We can further edit our code as follows:</p>
          <div class="code-box">
            <button class="copy-btn" onclick="copyCode(this)">Copy</button># Ask
            the user for their name<br />name = input("What's your name? ")<br /><br />#
            Print hello and the inputted name<br />print("hello, " + name)
          </div>
          <p class="mt-3">
            It turns out that some functions take many arguments. We can use a
            comma <code>,</code> to pass in multiple arguments by editing our
            code as follows:
          </p>
          <div class="code-box">
            <button class="copy-btn" onclick="copyCode(this)">Copy</button># Ask
            the user for their name<br />name = input("What's your name? ")<br /><br />#
            Print hello and the inputted name<br />print("hello,", name)
          </div>
          <p class="mt-3">
            The output in the terminal, if we typed "David" we would be
            <code>hello, David</code>. Success.
          </p>

          <!-- Completion Checkbox -->
          <div class="section-complete" id="complete-lec0-section-7">
            <input
              type="checkbox"
              class="section-checkbox"
              id="checkbox-lec0-section-7"
              data-section-id="lec0-section-7"
              data-xp="10"
              onchange="handleSectionComplete(this)"
            />
            <label for="checkbox-lec0-section-7" class="section-checkbox-label">
              ‚úì I understand this topic
            </label>
            <span class="xp-badge" id="xp-badge-lec0-section-7">+10 XP</span>
          </div>
        </section>

        <!-- 8. strings & parameters -->
        <section class="reveal mb-12" data-section-id="lec0-section-8">
          <h2 class="text-2xl font-bold mb-3 flex items-center gap-2">
            <span class="text-green-500">üßµ</span> Strings and Parameters
          </h2>
          <p class="mb-4">
            A string, known as a <code>str</code> in Python, is a sequence of
            text. <br />
            Functions take arguments that influence their behavior. If we look
            at the documentation for <code>print</code> you'll notice we can
            learn a lot about the arguments that the <code>print</code> function
            takes. <br />
            Looking at this documentation, you'll learn that the
            <code>print</code> function automatically includes the argument
            <code>end='\n'</code>. This <code>\n</code> indicates that the
            <code>print</code> function will automatically create a line break
            when run. The function takes an argument called <code>end</code>,
            and the default is to create a new line. <br />
            However, we can technically provide an argument for
            <code>end</code> ourselves such that a new line is not created!
          </p>
          <div class="code-box">
            <button class="copy-btn" onclick="copyCode(this)">Copy</button
            >print("hello,", end="")
          </div>
          <p class="mt-3">
            Parameters, therefore, are arguments that can be taken by a
            function.
          </p>

          <!-- Completion Checkbox -->
          <div class="section-complete" id="complete-lec0-section-8">
            <input
              type="checkbox"
              class="section-checkbox"
              id="checkbox-lec0-section-8"
              data-section-id="lec0-section-8"
              data-xp="10"
              onchange="handleSectionComplete(this)"
            />
            <label for="checkbox-lec0-section-8" class="section-checkbox-label">
              ‚úì I understand this topic
            </label>
            <span class="xp-badge" id="xp-badge-lec0-section-8">+10 XP</span>
          </div>
        </section>

        <!-- 9. quotation marks -->
        <section class="reveal mb-12" data-section-id="lec0-section-9">
          <h2 class="text-2xl font-bold mb-3 flex items-center gap-2">
            <span class="text-yellow-500">‚ùù‚ùû</span> A small problem with
            quotation marks
          </h2>
          <p class="mb-4">
            Notice how adding quotation marks as part of your string is
            challenging. <code>print("hello,"friend"")</code> will not work, and
            the interpreter will throw an error. <br />
            Generally, there are two approaches to fixing this. First, you could
            simply change the quotes to single quotation marks. <br />
            Another, more commonly used approach would be to write
            <code>print("hello, \"friend\"")</code>. The backslashes tell the
            interpreter that the following character should be treated as a
            quotation mark in the string and avoid an interpreter error.
          </p>

          <!-- Completion Checkbox -->
          <div class="section-complete" id="complete-lec0-section-9">
            <input
              type="checkbox"
              class="section-checkbox"
              id="checkbox-lec0-section-9"
              data-section-id="lec0-section-9"
              data-xp="10"
              onchange="handleSectionComplete(this)"
            />
            <label for="checkbox-lec0-section-9" class="section-checkbox-label">
              ‚úì I understand this topic
            </label>
            <span class="xp-badge" id="xp-badge-lec0-section-9">+10 XP</span>
          </div>
        </section>

        <!-- 10. formatting strings -->
        <section class="reveal mb-12" data-section-id="lec0-section-10">
          <h2 class="text-2xl font-bold mb-3 flex items-center gap-2">
            <span class="text-cyan-500">ü™Ñ</span> Formatting Strings
          </h2>
          <p class="mb-4">
            Probably the most elegant way to use strings would be as follows:
          </p>
          <div class="code-box">
            <button class="copy-btn" onclick="copyCode(this)">Copy</button>name
            = input("What's your name? ")<br />print(f"hello, {name}")
          </div>
          <p class="mt-3">
            Notice the <code>f</code> in <code>print(f"hello, {name}")</code>.
            This <code>f</code> is a special indicator for Python to treat this
            string a special way, different than previous approaches we have
            illustrated in this lecture. Expect that you will be using this
            style of strings quite frequently in this course.
          </p>

          <!-- Completion Checkbox -->
          <div class="section-complete" id="complete-lec0-section-10">
            <input
              type="checkbox"
              class="section-checkbox"
              id="checkbox-lec0-section-10"
              data-section-id="lec0-section-10"
              data-xp="10"
              onchange="handleSectionComplete(this)"
            />
            <label
              for="checkbox-lec0-section-10"
              class="section-checkbox-label"
            >
              ‚úì I understand this topic
            </label>
            <span class="xp-badge" id="xp-badge-lec0-section-10">+10 XP</span>
          </div>
        </section>

        <!-- 11. more strings -->
        <section class="reveal mb-12" data-section-id="lec0-section-11">
          <h2 class="text-2xl font-bold mb-3 flex items-center gap-2">
            <span class="text-emerald-500">üßπ</span> More on Strings
          </h2>
          <p class="mb-4">
            You should never expect your user to cooperate as intended.
            Therefore, you will need to ensure that the input of your user is
            corrected or checked. <br />
            It turns out that built into strings is the ability to remove
            whitespace from a string. By utilizing the <code>strip</code> method
            on <code>name</code> (for example,
            <code>name = name.strip()</code>), you will remove any whitespace
            from the left and right of the user's input. <br />
            Using the <code>title</code> method, it would title case the user's
            name:
          </p>
          <div class="code-box">
            <button class="copy-btn" onclick="copyCode(this)">Copy</button>name
            = input("What's your name? ").strip().title()
          </div>

          <!-- Completion Checkbox -->
          <div class="section-complete" id="complete-lec0-section-11">
            <input
              type="checkbox"
              class="section-checkbox"
              id="checkbox-lec0-section-11"
              data-section-id="lec0-section-11"
              data-xp="10"
              onchange="handleSectionComplete(this)"
            />
            <label
              for="checkbox-lec0-section-11"
              class="section-checkbox-label"
            >
              ‚úì I understand this topic
            </label>
            <span class="xp-badge" id="xp-badge-lec0-section-11">+10 XP</span>
          </div>
        </section>

        <!-- 12. integers -->
        <section class="reveal mb-12" data-section-id="lec0-section-12">
          <h2 class="text-2xl font-bold mb-3 flex items-center gap-2">
            <span class="text-orange-500">üî¢</span> Integers or int
          </h2>
          <p class="mb-4">
            In Python, an integer is referred to as an <code>int</code>. <br />
            In the world of mathematics, we are familiar with <code>+</code>,
            <code>-</code>, <code>*</code>, <code>/</code>, and
            <code>%</code> operators. That last operator <code>%</code> or
            modulo operator may not be very familiar to you. <br />
            You don't have to use the text editor window to run Python code.
            Down in your terminal, you can run <code>python</code> alone. You
            will be presented with <code>>>></code> in the terminal window. You
            can then run live, interactive code. You could type
            <code>1+1</code>, and it will run that calculation. This mode will
            not commonly be used during this course.
          </p>
          <div class="code-box">
            <button class="copy-btn" onclick="copyCode(this)">Copy</button>x =
            int(input("What's x? "))<br />y = int(input("What's y? "))<br />print(x
            + y)
          </div>

          <!-- Completion Checkbox -->
          <div class="section-complete" id="complete-lec0-section-12">
            <input
              type="checkbox"
              class="section-checkbox"
              id="checkbox-lec0-section-12"
              data-section-id="lec0-section-12"
              data-xp="10"
              onchange="handleSectionComplete(this)"
            />
            <label
              for="checkbox-lec0-section-12"
              class="section-checkbox-label"
            >
              ‚úì I understand this topic
            </label>
            <span class="xp-badge" id="xp-badge-lec0-section-12">+10 XP</span>
          </div>
        </section>

        <!-- 13. readability -->
        <section class="reveal mb-12" data-section-id="lec0-section-13">
          <h2 class="text-2xl font-bold mb-3 flex items-center gap-2">
            <span class="text-sky-500">üëÄ</span> Readability Wins
          </h2>
          <p class="mb-4">
            When deciding on your approach to a coding task, remember that one
            could make a reasonable argument for many approaches to the same
            problem. <br />
            Regardless of what approach you take to a programming task, remember
            that your code must be readable. You should use comments to give
            yourself and others clues about what your code is doing. Further,
            you should create code in a way that is readable.
          </p>

          <!-- Completion Checkbox -->
          <div class="section-complete" id="complete-lec0-section-13">
            <input
              type="checkbox"
              class="section-checkbox"
              id="checkbox-lec0-section-13"
              data-section-id="lec0-section-13"
              data-xp="10"
              onchange="handleSectionComplete(this)"
            />
            <label
              for="checkbox-lec0-section-13"
              class="section-checkbox-label"
            >
              ‚úì I understand this topic
            </label>
            <span class="xp-badge" id="xp-badge-lec0-section-13">+10 XP</span>
          </div>
        </section>

        <!-- 14. floats -->
        <section class="reveal mb-12">
          <h2 class="text-2xl font-bold mb-3 flex items-center gap-2">
            <span class="text-indigo-500">üåä</span> Float Basics
          </h2>
          <p class="mb-4">
            A floating point value is a real number that has a decimal point in
            it, such as <code>0.52</code>. <br />
            You can change your code to support floats as follows:
          </p>
          <div class="code-box">
            <button class="copy-btn" onclick="copyCode(this)">Copy</button>x =
            float(input("What's x? "))<br />y = float(input("What's y? "))<br />print(x
            + y)
          </div>
          <p class="mt-3">
            Let‚Äôs imagine, however, that you want to round the total to the
            nearest integer. Looking at the Python documentation for
            <code>round</code>, you‚Äôll see that the available arguments are
            <code>round(number[, ndigits])</code>. Those square brackets
            indicate that something optional can be specified by the programmer.
            Therefore, you could do <code>round(n)</code> to round a digit to
            its nearest integer. <br />
            What if we wanted to format the output of long numbers? For example,
            rather than seeing <code>1000</code>, you may wish to see
            <code>1,000</code>. You could modify your code as follows:
          </p>
          <div class="code-box">
            <button class="copy-btn" onclick="copyCode(this)">Copy</button>z =
            round(x + y)<br />print(f"{z:,}")
          </div>
        </section>

        <!-- 15. more floats -->
        <section class="reveal mb-12">
          <h2 class="text-2xl font-bold mb-3 flex items-center gap-2">
            <span class="text-violet-500">üßÆ</span> More on Floats
          </h2>
          <p class="mb-4">
            How can we round floating point values? First, modify your code as
            follows:
          </p>
          <div class="code-box">
            <button class="copy-btn" onclick="copyCode(this)">Copy</button>z = x
            / y<br />print(z)
          </div>
          <p class="mt-3">
            Let‚Äôs imagine that we want to round this down. We could modify our
            code as follows:
          </p>
          <div class="code-box">
            <button class="copy-btn" onclick="copyCode(this)">Copy</button>z =
            round(x / y, 2)<br />print(z)
          </div>
          <p class="mt-3">
            We could also use an f-string to format the output as follows:
          </p>
          <div class="code-box">
            <button class="copy-btn" onclick="copyCode(this)">Copy</button
            >print(f"{z:.2f}")
          </div>
        </section>

        <!-- 16. def -->
        <section class="reveal mb-12">
          <h2 class="text-2xl font-bold mb-3 flex items-center gap-2">
            <span class="text-yellow-500">üî®</span> Def
          </h2>
          <p class="mb-4">
            Wouldn‚Äôt it be nice to create our own functions? <br />
            We can create our own function called <code>hello</code> as follows:
          </p>
          <div class="code-box">
            <button class="copy-btn" onclick="copyCode(this)">Copy</button>def
            hello(to="world"):<br />
            print("hello,", to)
          </div>
        </section>

        <!-- 17. returning values -->
        <section class="reveal mb-12">
          <h2 class="text-2xl font-bold mb-3 flex items-center gap-2">
            <span class="text-pink-500">‚Ü©Ô∏è</span> Returning Values
          </h2>
          <p class="mb-4">
            You can imagine many scenarios where you don‚Äôt just want a function
            to perform an action but also to return a value back to the main
            function. For example, rather than simply printing the calculation
            of <code>x + y</code>, you may want a function to return the value
            of this calculation back to another part of your program. This
            ‚Äúpassing back‚Äù of a value we call a return value.
          </p>
          <div class="code-box">
            <button class="copy-btn" onclick="copyCode(this)">Copy</button>def
            square(n):<br />
            return n * n
          </div>
        </section>

        <!-- 18. summing up -->
        <section
          class="reveal mb-12 p-6 bg-gradient-to-r from-teal-50 to-blue-50 dark:from-teal-900/20 dark:to-blue-900/20 rounded-xl"
        >
          <h2 class="text-2xl font-bold mb-3">Summing Up</h2>
          <p class="mb-4">
            Through the work of this single lecture, you have learned abilities
            that you will use countless times in your own programs. You have
            learned about‚Ä¶
          </p>
          <ul class="list-disc ml-6 space-y-1">
            <li>Creating your first programs in Python;</li>
            <li>Functions;</li>
            <li>Bugs;</li>
            <li>Variables;</li>
            <li>Comments;</li>
            <li>Pseudocode;</li>
            <li>Strings;</li>
            <li>Parameters;</li>
            <li>Formatted Strings;</li>
            <li>Integers;</li>
            <li>Principles of readability;</li>
            <li>Floats;</li>
            <li>Creating your own functions; and</li>
            <li>Return values.</li>
          </ul>
          <div class="mt-4">
            <a
              href="/lec1"
              class="inline-flex items-center gap-2 px-5 py-2.5 rounded-lg bg-teal-600 text-white hover:bg-teal-700 transition"
              >Next Lecture ‚Üí</a
            >
          </div>
        </section>

        <!-- 19. live playground (kept for interactivity) -->
        <section class="reveal mb-12">
          <h2 class="text-2xl font-bold mb-3 flex items-center gap-2">
            <span class="text-teal-500">üöÄ</span> Live Playground
          </h2>
          <p>
            Edit the code below and hit <strong>Run</strong>‚Äîno servers, no
            installs.
          </p>
          <textarea id="playground" class="code-box w-full h-48 mt-3">
# try your own ideas!
name = input("What's your name? ")
print(f"hello, {name}")</textarea
          >
          <div class="flex items-center gap-3 mt-3">
            <button
              onclick="runCode()"
              class="px-5 py-2 rounded-lg bg-teal-600 text-white hover:bg-teal-700 transition"
            >
              ‚ñ∂ Run
            </button>
            <button
              onclick="resetCode()"
              class="px-5 py-2 rounded-lg bg-gray-200 dark:bg-gray-700 hover:bg-gray-300 dark:hover:bg-gray-600 transition"
            >
              Reset
            </button>
          </div>
          <div id="playground-out" class="output-box mt-3">
            Output will appear here‚Ä¶
          </div>
        </section>
      </main>
      <!-- =========  PSET1 QUESTIONS & HINTS ‚Äì DOPE STYLING  ========= -->

      <!-- =========  FOOTER  ========= -->
      <footer class="bg-gray-900 text-white py-8 mt-12">
        <div class="max-w-4xl mx-auto px-4 text-center text-gray-400">
          ¬© 2024 PythonLearn ‚Äì built with ‚ù§Ô∏è for every future Pythonista.
        </div>
      </footer>

      <!-- =========  TEXT-TO-SPEECH PANEL  ========= -->
      <div class="tts-container" id="ttsContainer">
        <div class="tts-header" onclick="toggleTTS()">
          <div class="tts-title">
            <span>üîä</span>
            <span>Text to Speech</span>
          </div>
          <button
            class="tts-btn secondary"
            style="padding: 4px 8px; font-size: 12px"
          >
            <span id="ttsToggleIcon">‚àí</span>
          </button>
        </div>
        <div id="ttsControls">
          <div class="tts-controls">
            <button
              class="tts-btn"
              id="ttsPlayBtn"
              onclick="playSelectedText()"
            >
              <span>‚ñ∂</span> Read Selected
            </button>
            <button
              class="tts-btn secondary"
              id="ttsSectionBtn"
              onclick="readCurrentSection()"
            >
              <span>üìñ</span> Read Section
            </button>
            <button
              class="tts-btn secondary"
              id="ttsStopBtn"
              onclick="stopTTS()"
              disabled
            >
              <span>‚èπ</span> Stop
            </button>
          </div>
          <div class="tts-speed-control">
            <span>Speed:</span>
            <input
              type="range"
              min="0.5"
              max="2"
              step="0.1"
              value="1"
              class="tts-speed-slider"
              id="ttsSpeedSlider"
            />
            <span id="ttsSpeedValue">1.0x</span>
          </div>
          <div class="tts-status" id="ttsStatus">
            Select text or click "Read Section"
          </div>
        </div>
      </div>

      <!-- =========  EXISTING JS  ========= -->
      <script>
        /* ----- dark mode toggle (respects your nav) ----- */
        if (
          localStorage.theme === "dark" ||
          (!("theme" in localStorage) &&
            window.matchMedia("(prefers-color-scheme: dark)").matches)
        ) {
          document.documentElement.setAttribute("data-theme", "dark");
        } else {
          document.documentElement.setAttribute("data-theme", "light");
        }

        /* ----- scroll reveal ----- */
        const reveals = document.querySelectorAll(".reveal");
        const observer = new IntersectionObserver(
          (entries) => {
            entries.forEach((entry) => {
              if (entry.isIntersecting) {
                anime({
                  targets: entry.target,
                  opacity: 1,
                  translateY: 0,
                  duration: 600,
                  easing: "easeOutQuad",
                });
                observer.unobserve(entry.target);
              }
            });
          },
          { threshold: 0.15 }
        );
        reveals.forEach((el) => observer.observe(el));

        /* ----- copy code ----- */
        function copyCode(btn) {
          const box = btn.parentElement;
          const code = box.textContent.trim();
          navigator.clipboard.writeText(code);
          btn.textContent = "Copied!";
          setTimeout(() => (btn.textContent = "Copy"), 1200);
        }

        /* ----- live runner (Skulpt) ----- */
        function outf(text) {
          const out = document.getElementById("playground-out");
          out.textContent += text;
        }
        function builtinRead(x) {
          if (
            Sk.builtinFiles === undefined ||
            Sk.builtinFiles["files"][x] === undefined
          )
            throw new Error("File not found: " + x);
          return Sk.builtinFiles["files"][x];
        }
        function runCode() {
          const prog = document.getElementById("playground").value;
          document.getElementById("playground-out").textContent = "";
          Sk.pre = "playground-out";
          Sk.configure({
            output: outf,
            read: builtinRead,
            __future__: Sk.python3,
          });
          (Sk.TurtleGraphics || (Sk.TurtleGraphics = {})).target =
            "playground-out";
          const myPromise = Sk.misceval.asyncToPromise(() =>
            Sk.importMainWithBody("<stdin>", false, prog, true)
          );
          myPromise.then(
            () => {
              const out = document.getElementById("playground-out").textContent;
              if (out.includes("¬∞F") || out.includes("¬∞C")) {
                const cel = document.getElementById("celebrate");
                cel.classList.remove("hidden");
                cel.querySelector("span").classList.add("check-celebration");
              }
            },
            (err) => {
              document.getElementById("playground-out").textContent =
                err.toString();
            }
          );
        }
        function resetCode() {
          document.getElementById(
            "playground"
          ).value = `name = input("What's your name? ")
print(f"hello, {name}")`;
          document.getElementById("playground-out").textContent =
            "Output will appear here‚Ä¶";
        }

        /* highlight current lecture */
        document.querySelectorAll(".lecture2-nav a").forEach((a) => {
          if (a.href.endsWith("lec0.html"))
            a.classList.add("bg-teal-700", "text-white");
        });

        /* =========  TEXT-TO-SPEECH FUNCTIONALITY  ========= */
        let synth = window.speechSynthesis;
        let currentUtterance = null;
        let isReading = false;
        let currentHighlight = null;

        // Toggle TTS panel
        function toggleTTS() {
          const container = document.getElementById("ttsContainer");
          const controls = document.getElementById("ttsControls");
          const icon = document.getElementById("ttsToggleIcon");

          if (container.classList.contains("collapsed")) {
            container.classList.remove("collapsed");
            controls.style.display = "block";
            icon.textContent = "‚àí";
          } else {
            container.classList.add("collapsed");
            controls.style.display = "none";
            icon.textContent = "+";
          }
        }

        // Get selected text
        function getSelectedText() {
          const selection = window.getSelection();
          return selection.toString().trim();
        }

        // Remove previous highlights
        function removeHighlights() {
          if (currentHighlight) {
            currentHighlight.classList.remove("tts-reading");
            currentHighlight = null;
          }
          document.querySelectorAll(".tts-reading").forEach((el) => {
            el.classList.remove("tts-reading");
          });
        }

        // Speak text
        function speakText(text, element = null) {
          if (!text) {
            updateStatus("No text selected");
            return;
          }

          // Stop any current speech
          stopTTS();

          // Remove HTML tags and clean text
          const cleanText = text
            .replace(/<[^>]*>/g, "")
            .replace(/\s+/g, " ")
            .trim();

          if (!cleanText) {
            updateStatus("No readable text found");
            return;
          }

          // Create utterance
          currentUtterance = new SpeechSynthesisUtterance(cleanText);
          const speed = parseFloat(
            document.getElementById("ttsSpeedSlider").value
          );
          currentUtterance.rate = speed;
          currentUtterance.pitch = 1;
          currentUtterance.volume = 1;

          // Highlight element being read
          if (element) {
            removeHighlights();
            element.classList.add("tts-reading");
            currentHighlight = element;

            // Scroll to element
            element.scrollIntoView({ behavior: "smooth", block: "center" });
          }

          // Event handlers
          currentUtterance.onstart = () => {
            isReading = true;
            updateButtons(true);
            updateStatus("Reading...");
          };

          currentUtterance.onend = () => {
            isReading = false;
            updateButtons(false);
            removeHighlights();
            updateStatus("Finished reading");
            setTimeout(
              () => updateStatus('Select text or click "Read Section"'),
              2000
            );
          };

          currentUtterance.onerror = (event) => {
            isReading = false;
            updateButtons(false);
            removeHighlights();
            updateStatus("Error: " + event.error);
          };

          // Speak
          synth.speak(currentUtterance);
        }

        // Play selected text
        function playSelectedText() {
          const selectedText = getSelectedText();
          if (selectedText) {
            speakText(selectedText);
            updateStatus("Reading selected text...");
          } else {
            updateStatus("Please select some text first");
            // Try to read the current section if nothing is selected
            readCurrentSection();
          }
        }

        // Read current section (section in viewport)
        function readCurrentSection() {
          const sections = document.querySelectorAll("section.reveal");
          let targetSection = null;

          // Find the section currently in viewport
          sections.forEach((section) => {
            const rect = section.getBoundingClientRect();
            if (rect.top >= 0 && rect.top <= window.innerHeight / 2) {
              targetSection = section;
            }
          });

          // If no section in viewport, use the first one
          if (!targetSection && sections.length > 0) {
            targetSection = sections[0];
          }

          if (targetSection) {
            // Get all text from section (excluding code blocks)
            const codeBoxes = targetSection.querySelectorAll(
              ".code-box, .output-box"
            );
            codeBoxes.forEach((box) => (box.style.display = "none"));

            const text = targetSection.innerText || targetSection.textContent;

            codeBoxes.forEach((box) => (box.style.display = ""));

            if (text) {
              speakText(text, targetSection);
              updateStatus(
                "Reading section: " +
                  (targetSection.querySelector("h2")?.textContent || "Section")
              );
            } else {
              updateStatus("No text found in section");
            }
          } else {
            updateStatus("No section found");
          }
        }

        // Stop TTS
        function stopTTS() {
          if (synth.speaking) {
            synth.cancel();
          }
          isReading = false;
          updateButtons(false);
          removeHighlights();
          updateStatus("Stopped");
          setTimeout(
            () => updateStatus('Select text or click "Read Section"'),
            2000
          );
        }

        // Update button states
        function updateButtons(reading) {
          document.getElementById("ttsPlayBtn").disabled = reading;
          document.getElementById("ttsSectionBtn").disabled = reading;
          document.getElementById("ttsStopBtn").disabled = !reading;
        }

        // Update status message
        function updateStatus(message) {
          document.getElementById("ttsStatus").textContent = message;
        }

        // Speed slider update
        document
          .getElementById("ttsSpeedSlider")
          .addEventListener("input", function (e) {
            const speed = parseFloat(e.target.value);
            document.getElementById("ttsSpeedValue").textContent =
              speed.toFixed(1) + "x";
            if (currentUtterance && isReading) {
              synth.cancel();
              currentUtterance.rate = speed;
              synth.speak(currentUtterance);
            }
          });

        // Stop on page unload
        window.addEventListener("beforeunload", () => {
          stopTTS();
        });

        // Double-click to read paragraph
        document.addEventListener("dblclick", function (e) {
          if (e.target.tagName === "P" || e.target.closest("p")) {
            const paragraph =
              e.target.tagName === "P" ? e.target : e.target.closest("p");
            const text = paragraph.innerText || paragraph.textContent;
            if (text.trim()) {
              speakText(text, paragraph);
            }
          }
        });

        /* =========  XP & LEVEL SYSTEM  ========= */
        // XP and Level Management
        const XP_SYSTEM = {
          // XP required for each level (exponential growth)
          getXPForLevel: (level) => {
            return Math.floor(100 * Math.pow(1.5, level - 1));
          },

          // Calculate level from total XP
          getLevelFromXP: (totalXP) => {
            let level = 1;
            let xpNeeded = 0;
            while (xpNeeded <= totalXP) {
              xpNeeded += XP_SYSTEM.getXPForLevel(level);
              if (xpNeeded <= totalXP) {
                level++;
              }
            }
            return level;
          },

          // Get XP progress for current level
          getXPProgress: (totalXP, level) => {
            let xpForCurrentLevel = 0;
            for (let i = 1; i < level; i++) {
              xpForCurrentLevel += XP_SYSTEM.getXPForLevel(i);
            }
            const currentLevelXP = totalXP - xpForCurrentLevel;
            const xpNeededForLevel = XP_SYSTEM.getXPForLevel(level);
            return {
              current: currentLevelXP,
              needed: xpNeededForLevel,
              percentage: Math.min(
                100,
                (currentLevelXP / xpNeededForLevel) * 100
              ),
            };
          },

          // Initialize user data
          init: () => {
            let userData = JSON.parse(
              localStorage.getItem("pythonLearnUserData") || "{}"
            );
            if (!userData.xp) userData.xp = 0;
            if (!userData.completedSections) userData.completedSections = [];
            if (!userData.completedQuizzes) userData.completedQuizzes = [];
            localStorage.setItem(
              "pythonLearnUserData",
              JSON.stringify(userData)
            );
            return userData;
          },

          // Add XP
          addXP: (amount, source) => {
            const userData = XP_SYSTEM.init();
            const oldLevel = XP_SYSTEM.getLevelFromXP(userData.xp);
            userData.xp += amount;
            const newLevel = XP_SYSTEM.getLevelFromXP(userData.xp);

            localStorage.setItem(
              "pythonLearnUserData",
              JSON.stringify(userData)
            );

            // Check for level up
            if (newLevel > oldLevel) {
              XP_SYSTEM.showLevelUp(newLevel);
            }

            XP_SYSTEM.updateDisplay();
            return {
              xp: userData.xp,
              level: newLevel,
              leveledUp: newLevel > oldLevel,
            };
          },

          // Show level up animation
          showLevelUp: (level) => {
            const levelUpModal = document.createElement("div");
            levelUpModal.className = "level-up-modal";
            levelUpModal.innerHTML = `
              <div class="level-up-content">
                <div class="level-up-icon">üéâ</div>
                <h2>Level Up!</h2>
                <p class="level-up-text">You've reached Level ${level}!</p>
                <p class="level-up-subtext">Keep learning to unlock more levels!</p>
                <button onclick="this.closest('.level-up-modal').remove()" class="level-up-btn">Awesome!</button>
              </div>
            `;
            document.body.appendChild(levelUpModal);
            setTimeout(() => levelUpModal.classList.add("show"), 100);
          },

          // Update XP and Level display
          updateDisplay: () => {
            const userData = XP_SYSTEM.init();
            const level = XP_SYSTEM.getLevelFromXP(userData.xp);
            const progress = XP_SYSTEM.getXPProgress(userData.xp, level);

            // Update nav display
            const xpDisplay = document.getElementById("user-xp-display");
            const levelDisplay = document.getElementById("user-level-display");

            if (xpDisplay) {
              xpDisplay.textContent = `XP: ${userData.xp}`;
            }
            if (levelDisplay) {
              levelDisplay.textContent = `Level ${level}`;
            }
          },

          // Load completed sections
          loadCompletedSections: () => {
            const userData = XP_SYSTEM.init();
            if (userData.completedSections) {
              userData.completedSections.forEach((sectionId) => {
                const checkbox = document.getElementById(
                  `checkbox-${sectionId}`
                );
                const completeDiv = document.getElementById(
                  `complete-${sectionId}`
                );
                if (checkbox) {
                  checkbox.checked = true;
                  if (completeDiv) {
                    completeDiv.classList.add("completed");
                  }
                }
              });
            }
          },
        };

        // Handle section completion
        function handleSectionComplete(checkbox) {
          const sectionId = checkbox.dataset.sectionId;
          const xpAmount = parseInt(checkbox.dataset.xp || 10);
          const completeDiv = document.getElementById(`complete-${sectionId}`);
          const xpBadge = document.getElementById(`xp-badge-${sectionId}`);

          if (checkbox.checked) {
            // Mark as completed
            if (completeDiv) {
              completeDiv.classList.add("completed");
            }

            // Add XP
            const result = XP_SYSTEM.addXP(xpAmount, "section");

            // Update user data
            const userData = XP_SYSTEM.init();
            if (!userData.completedSections.includes(sectionId)) {
              userData.completedSections.push(sectionId);
              localStorage.setItem(
                "pythonLearnUserData",
                JSON.stringify(userData)
              );

              // Show XP animation
              if (xpBadge) {
                xpBadge.classList.add("earned");
                setTimeout(() => xpBadge.classList.remove("earned"), 500);
              }

              // Show notification
              showXPNotification(`+${xpAmount} XP`, result.leveledUp);
            }
          } else {
            // Uncheck - remove XP (optional, or keep it)
            if (completeDiv) {
              completeDiv.classList.remove("completed");
            }

            // Remove from completed sections
            const userData = XP_SYSTEM.init();
            userData.completedSections = userData.completedSections.filter(
              (id) => id !== sectionId
            );
            localStorage.setItem(
              "pythonLearnUserData",
              JSON.stringify(userData)
            );
          }
        }

        // Show XP notification
        function showXPNotification(message, leveledUp = false) {
          const notification = document.createElement("div");
          notification.className = "xp-notification";
          notification.textContent = message;
          if (leveledUp) {
            notification.classList.add("level-up");
          }
          document.body.appendChild(notification);
          setTimeout(() => notification.classList.add("show"), 100);
          setTimeout(() => {
            notification.classList.remove("show");
            setTimeout(() => notification.remove(), 300);
          }, 2000);
        }

        // Initialize on page load
        document.addEventListener("DOMContentLoaded", () => {
          XP_SYSTEM.updateDisplay();
          XP_SYSTEM.loadCompletedSections();
        });
      </script>

      <style>
        /* Level Up Modal */
        .level-up-modal {
          position: fixed;
          top: 0;
          left: 0;
          right: 0;
          bottom: 0;
          background: rgba(0, 0, 0, 0.8);
          display: flex;
          align-items: center;
          justify-content: center;
          z-index: 10000;
          opacity: 0;
          transition: opacity 0.3s ease;
        }

        .level-up-modal.show {
          opacity: 1;
        }

        .level-up-content {
          background: white;
          border-radius: 24px;
          padding: 3rem;
          text-align: center;
          max-width: 400px;
          box-shadow: 0 20px 60px rgba(0, 0, 0, 0.3);
          transform: scale(0.8);
          transition: transform 0.3s ease;
        }

        .level-up-modal.show .level-up-content {
          transform: scale(1);
        }

        .level-up-icon {
          font-size: 4rem;
          margin-bottom: 1rem;
          animation: bounce 0.6s ease;
        }

        .level-up-content h2 {
          font-size: 2rem;
          font-weight: 800;
          color: var(--primary-600);
          margin-bottom: 0.5rem;
        }

        .level-up-text {
          font-size: 1.25rem;
          font-weight: 600;
          color: var(--slate-700);
          margin-bottom: 0.5rem;
        }

        .level-up-subtext {
          color: var(--slate-600);
          margin-bottom: 1.5rem;
        }

        .level-up-btn {
          padding: 12px 32px;
          background: linear-gradient(
            135deg,
            var(--primary-600),
            var(--secondary-600)
          );
          color: white;
          border: none;
          border-radius: 12px;
          font-weight: 600;
          font-size: 1rem;
          cursor: pointer;
          transition: transform 0.2s;
        }

        .level-up-btn:hover {
          transform: translateY(-2px);
        }

        /* XP Notification */
        .xp-notification {
          position: fixed;
          top: 100px;
          right: 20px;
          background: linear-gradient(
            135deg,
            var(--primary-600),
            var(--secondary-600)
          );
          color: white;
          padding: 16px 24px;
          border-radius: 12px;
          font-weight: 600;
          font-size: 1.125rem;
          box-shadow: 0 8px 24px rgba(0, 0, 0, 0.2);
          z-index: 10001;
          transform: translateX(400px);
          transition: transform 0.3s ease;
        }

        .xp-notification.show {
          transform: translateX(0);
        }

        .xp-notification.level-up {
          background: linear-gradient(135deg, #f59e0b, #ef4444);
          font-size: 1.25rem;
        }

        @keyframes bounce {
          0%,
          100% {
            transform: translateY(0);
          }
          50% {
            transform: translateY(-20px);
          }
        }
      </style>
    </body>
  </body>
</html>
