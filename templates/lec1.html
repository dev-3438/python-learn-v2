<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Lecture 1 ‚Äì Conditionals & Control Flow ‚ú®</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/animejs/3.2.1/anime.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/skulpt@1.2.0/dist/skulpt.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/skulpt@1.2.0/dist/skulpt-stdlib.js"></script>
    <style>
      @import url("https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700&family=JetBrains+Mono:wght@400;500&display=swap");
      :root {
        --bg: #ffffff;
        --text: #1f2937;
        --accent: #0d9488;
        --surface: #f9fafb;
        --border: #e5e7eb;
      }
      [data-theme="dark"] {
        --bg: #0f172a;
        --text: #f1f5f9;
        --surface: #1e293b;
        --border: #334155;
      }
      body {
        font-family: "Inter", sans-serif;
        background: var(--bg);
        color: var(--text);
        transition: background 0.3s, color 0.3s;
      }
      .code-box {
        background: #1e293b;
        color: #e2e8f0;
        border-radius: 0.75rem;
        padding: 1.25rem;
        font-family: "JetBrains Mono", monospace;
        font-size: 0.95rem;
        position: relative;
        overflow: hidden;
      }
      .output-box {
        background: #0f172a;
        color: #10b981;
        border-radius: 0.75rem;
        padding: 1.25rem;
        font-family: "JetBrains Mono", monospace;
        font-size: 0.95rem;
        min-height: 3rem;
        white-space: pre-wrap;
      }
      .copy-btn {
        position: absolute;
        top: 0.75rem;
        right: 0.75rem;
        padding: 0.25rem 0.5rem;
        font-size: 0.75rem;
        background: rgba(255, 255, 255, 0.1);
        border: 1px solid rgba(255, 255, 255, 0.2);
        color: #fff;
        border-radius: 0.5rem;
        cursor: pointer;
        transition: background 0.2s;
      }
      .copy-btn:hover {
        background: rgba(255, 255, 255, 0.2);
      }
      .reveal {
        opacity: 0;
        transform: translateY(30px);
      }
      /* sticky mini nav */
      .mini-nav {
        position: sticky;
        top: 64px;
        z: 30;
        background: var(--surface);
        border-bottom: 1px solid var(--border);
      }

      /* Text-to-Speech Styles */
      .tts-container {
        position: fixed;
        bottom: 20px;
        right: 20px;
        z-index: 1000;
        background: var(--bg);
        border: 2px solid var(--accent);
        border-radius: 16px;
        box-shadow: 0 8px 32px rgba(0, 0, 0, 0.2);
        padding: 16px;
        min-width: 280px;
        max-width: 400px;
        transition: transform 0.3s ease, opacity 0.3s ease;
      }

      .tts-container.collapsed {
        transform: translateY(calc(100% - 60px));
      }

      .tts-header {
        display: flex;
        justify-content: space-between;
        align-items: center;
        margin-bottom: 12px;
        cursor: pointer;
      }

      .tts-title {
        font-weight: 600;
        color: var(--accent);
        display: flex;
        align-items: center;
        gap: 8px;
      }

      .tts-controls {
        display: flex;
        gap: 8px;
        margin-bottom: 12px;
        flex-wrap: wrap;
      }

      .tts-btn {
        padding: 8px 16px;
        border: none;
        border-radius: 8px;
        background: var(--accent);
        color: white;
        cursor: pointer;
        font-size: 14px;
        font-weight: 500;
        transition: all 0.2s;
        display: flex;
        align-items: center;
        gap: 6px;
      }

      .tts-btn:hover {
        background: #115e59;
        transform: translateY(-2px);
      }

      .tts-btn:disabled {
        opacity: 0.5;
        cursor: not-allowed;
      }

      .tts-btn.secondary {
        background: var(--surface);
        color: var(--text);
        border: 1px solid var(--border);
      }

      .tts-btn.secondary:hover {
        background: var(--border);
      }

      .tts-speed-control {
        display: flex;
        align-items: center;
        gap: 8px;
        margin-top: 8px;
        font-size: 14px;
      }

      .tts-speed-slider {
        flex: 1;
        height: 6px;
        border-radius: 3px;
        background: var(--border);
        outline: none;
        -webkit-appearance: none;
      }

      .tts-speed-slider::-webkit-slider-thumb {
        -webkit-appearance: none;
        appearance: none;
        width: 18px;
        height: 18px;
        border-radius: 50%;
        background: var(--accent);
        cursor: pointer;
      }

      .tts-speed-slider::-moz-range-thumb {
        width: 18px;
        height: 18px;
        border-radius: 50%;
        background: var(--accent);
        cursor: pointer;
        border: none;
      }

      .tts-status {
        font-size: 12px;
        color: var(--text);
        opacity: 0.7;
        margin-top: 8px;
        text-align: center;
      }

      .tts-reading {
        background: rgba(13, 148, 136, 0.1);
        border-left: 3px solid var(--accent);
        padding-left: 8px;
        transition: all 0.3s;
      }

      @media (max-width: 640px) {
        .tts-container {
          bottom: 10px;
          right: 10px;
          left: 10px;
          max-width: none;
        }
      }

      /* Section Completion Checkbox */
      .section-complete {
        display: flex;
        align-items: center;
        gap: 12px;
        margin-top: 16px;
        padding: 12px 16px;
        background: var(--slate-50);
        border-radius: 12px;
        border: 2px solid var(--slate-200);
        transition: all 0.3s ease;
      }

      .section-complete:hover {
        border-color: var(--primary-600);
        background: rgba(59, 130, 246, 0.05);
      }

      .section-complete.completed {
        background: rgba(16, 185, 129, 0.1);
        border-color: var(--accent-500);
      }

      .section-checkbox {
        width: 24px;
        height: 24px;
        cursor: pointer;
        accent-color: var(--primary-600);
        flex-shrink: 0;
      }

      .section-checkbox-label {
        font-weight: 600;
        color: var(--slate-700);
        cursor: pointer;
        user-select: none;
        flex: 1;
      }

      .section-complete.completed .section-checkbox-label {
        color: var(--accent-600);
      }

      .xp-badge {
        display: inline-flex;
        align-items: center;
        gap: 4px;
        padding: 4px 12px;
        background: linear-gradient(
          135deg,
          var(--primary-600),
          var(--secondary-600)
        );
        color: white;
        border-radius: 20px;
        font-size: 0.875rem;
        font-weight: 600;
        margin-left: auto;
      }

      .xp-badge.earned {
        animation: xpPop 0.5s ease;
      }

      @keyframes xpPop {
        0%,
        100% {
          transform: scale(1);
        }
        50% {
          transform: scale(1.2);
        }
      }

      /* Navigation updates */
      :root {
        --primary-600: #3b82f6;
        --primary-700: #2563eb;
        --primary-800: #1d4ed8;
        --secondary-600: #6366f1;
        --secondary-700: #4f46e5;
        --secondary-800: #4338ca;
        --accent-500: #10b981;
        --accent-600: #059669;
        --slate-50: #f8fafc;
        --slate-100: #f1f5f9;
        --slate-200: #e2e8f0;
        --slate-300: #cbd5e1;
        --slate-400: #94a3b8;
        --slate-600: #475569;
        --slate-700: #334155;
        --slate-800: #1e293b;
        --slate-900: #0f172a;
        --white: #ffffff;
      }

      .nav-glassmorphism {
        background: rgba(255, 255, 255, 0.98);
        backdrop-filter: blur(20px);
        border-bottom: 1px solid rgba(226, 232, 240, 0.8);
        box-shadow: 0 1px 3px rgba(0, 0, 0, 0.1);
        position: sticky;
        top: 0;
        z-index: 1000;
      }

      .nav-link {
        position: relative;
        font-weight: 500;
        transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
      }

      .nav-link::after {
        content: "";
        position: absolute;
        bottom: -2px;
        left: 0;
        right: 0;
        height: 2px;
        background: linear-gradient(
          90deg,
          var(--primary-600),
          var(--secondary-600)
        );
        transform: scaleX(0);
        transition: transform 0.3s ease;
      }

      .nav-link:hover::after,
      .nav-link.active::after {
        transform: scaleX(1);
      }

      .nav-link.active {
        color: var(--primary-600);
        font-weight: 600;
      }

      .text-gradient {
        background: linear-gradient(
          135deg,
          var(--primary-600),
          var(--secondary-600)
        );
        -webkit-background-clip: text;
        -webkit-text-fill-color: transparent;
        background-clip: text;
      }
    </style>
  </head>
  <body>
    <!-- =========  TOP BAR  ========= -->
    <nav class="nav-glassmorphism">
      <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
        <div class="flex justify-between items-center h-20">
          <!-- Logo -->
          <div class="flex items-center">
            <a href="/" class="text-3xl font-bold text-gradient"
              >üêç PythonLearn</a
            >
          </div>

          <!-- Desktop Navigation -->
          <div class="hidden md:flex items-center space-x-10">
            <a
              href="/"
              class="nav-link text-slate-700 hover:text-primary-600 px-3 py-2"
              >Home</a
            >
            <a
              href="/course"
              class="nav-link text-slate-700 hover:text-primary-600 px-3 py-2 active"
              >Course</a
            >
            <a
              href="/playground"
              class="nav-link text-slate-700 hover:text-primary-600 px-3 py-2"
              >Playground</a
            >
            <a
              href="/quiz"
              class="nav-link text-slate-700 hover:text-primary-600 px-3 py-2"
              >Quiz</a
            >
            <a
              href="/dashboard"
              class="nav-link text-slate-700 hover:text-primary-600 px-3 py-2"
              >Dashboard</a
            >
          </div>

          <!-- XP Display -->
          <div class="hidden md:flex items-center gap-4">
            <div
              class="px-4 py-2 bg-gradient-to-r from-primary-600 to-secondary-600 text-white rounded-lg font-semibold"
            >
              <span id="user-xp-display">XP: 0</span>
            </div>
            <div
              class="px-4 py-2 bg-slate-100 text-slate-700 rounded-lg font-semibold"
            >
              <span id="user-level-display">Level 1</span>
            </div>
          </div>
        </div>
      </div>
    </nav>

    <!-- =========  MINI NAV  ========= -->
    <div class="mini-nav">
      <div
        class="max-w-5xl mx-auto px-4 py-3 flex flex-wrap gap-2 justify-center"
      >
        <a
          href="/lec0"
          class="px-4 py-2 rounded-full bg-emerald-400 hover:bg-emerald-500"
          >Lecture 0</a
        >
        <a
          href="/lec1"
          class="px-4 py-2 rounded-full bg-emerald-400 hover:bg-emerald-500"
          >Lecture 1</a
        >
        <a
          href="/lec2"
          class="px-4 py-2 rounded-full bg-emerald-400 hover:bg-emerald-500"
          >Lecture 2</a
        >
        <a
          href="/lec3"
          class="px-4 py-2 rounded-full bg-emerald-400 hover:bg-emerald-500"
          >Lecture 3</a
        >
        <a
          href="/lec4"
          class="px-4 py-2 rounded-full bg-emerald-400 hover:bg-emerald-500"
          >Lecture 4</a
        >
        <a
          href="/lec5"
          class="px-4 py-2 rounded-full bg-emerald-400 hover:bg-emerald-500"
          >Lecture 5</a
        >
        <a
          href="/lec6"
          class="px-4 py-2 rounded-full bg-emerald-400 hover:bg-emerald-500"
          >Lecture 6</a
        >
        <a
          href="/lec7"
          class="px-4 py-2 rounded-full bg-emerald-400 hover:bg-emerald-500"
          >Lecture 7</a
        >
        <a
          href="/lec8"
          class="px-4 py-2 rounded-full bg-emerald-400 hover:bg-emerald-500"
          >Lecture 8</a
        >
        <a
          href="/lec9"
          class="px-4 py-2 rounded-full bg-emerald-400 hover:bg-emerald-500"
          >Lecture 9</a
        >
      </div>
    </div>

    <!-- =========  MAIN CONTENT  ========= -->
    <main class="max-w-4xl mx-auto px-4 py-10">
      <!-- hero -->
      <header class="reveal mb-12 text-center">
        <h1
          class="text-4xl sm:text-5xl font-extrabold mb-3 bg-clip-text text-transparent bg-gradient-to-r from-teal-600 to-blue-500"
        >
          Lecture 1 ‚Äì Conditionals
        </h1>
        <p class="text-lg text-gray-600 dark:text-gray-300">
          Let your programs make decisions with if, elif, else, match, and
          friends.
        </p>
      </header>

      <!-- 1. Conditionals -->
      <section class="reveal mb-12" data-section-id="lec1-section-1">
        <h2 class="text-2xl font-bold mb-3 flex items-center gap-2">
          <span class="text-teal-600">üß≠</span> Conditionals
        </h2>
        <p class="mb-4">
          Conditionals allow you, the programmer, to allow your program to make
          decisions: As if your program has the choice between taking the
          left-hand road or the right-hand road based upon certain conditions.
          <br />
          Conditionals allow your program to make decisions, choosing one path
          over another depending on specified conditions. <br />
          Built within Python are a set of "operators" that are used to ask
          mathematical questions. <br />
          <code>></code> and <code><</code> symbols are probably quite familiar
          to you. <br />
          <code>>=</code> denotes "greater than or equal to." <br />
          <code><=</code> denotes "less than or equal to." <br />
          <code>==</code> denotes "equals." Note the double equal sign: a single
          equal sign assigns a value, whereas two equal signs compare values.
          <br />
          <code>!=</code> denotes "not equal to." <br />
          Conditional statements compare a left-hand term to a right-hand term.
        </p>
        <div class="section-complete" id="complete-lec1-section-1">
          <input
            type="checkbox"
            class="section-checkbox"
            id="checkbox-lec1-section-1"
            data-section-id="lec1-section-1"
            data-xp="10"
            onchange="handleSectionComplete(this)"
          />
          <label for="checkbox-lec1-section-1" class="section-checkbox-label"
            >‚úì I understand this topic</label
          >
          <span class="xp-badge" id="xp-badge-lec1-section-1">+10 XP</span>
        </div>
      </section>

      <!-- 2. if Statements -->
      <section class="reveal mb-12" data-section-id="lec1-section-2">
        <h2 class="text-2xl font-bold mb-3 flex items-center gap-2">
          <span class="text-indigo-500">üîç</span> if Statements
        </h2>
        <p class="mb-4">
          In your terminal window, type <code>code compare.py</code>. This will
          create a brand new file called "compare." <br />
          In the text editor window, begin with the following:
        </p>
        <div class="code-box">
          <button class="copy-btn" onclick="copyCode(this)">Copy</button>x =
          int(input("What's x? "))<br />y = int(input("What's y? "))<br /><br />if
          x < y:<br />
          print("x is less than y")
        </div>
        <p class="mt-3">
          if statements use bool (Boolean) values (True or False) to decide
          whether or not to execute code. If the comparison
          <code>x < y</code> is True, the interpreter runs the indented block.
        </p>
        <div class="section-complete" id="complete-lec1-section-2">
          <input
            type="checkbox"
            class="section-checkbox"
            id="checkbox-lec1-section-2"
            data-section-id="lec1-section-2"
            data-xp="10"
            onchange="handleSectionComplete(this)"
          />
          <label for="checkbox-lec1-section-2" class="section-checkbox-label"
            >‚úì I understand this topic</label
          >
          <span class="xp-badge" id="xp-badge-lec1-section-2">+10 XP</span>
        </div>
      </section>

      <!-- 3. Control Flow, elif, and else -->
      <section class="reveal mb-12" data-section-id="lec1-section-3">
        <h2 class="text-2xl font-bold mb-3 flex items-center gap-2">
          <span class="text-purple-500">üîÄ</span> Control Flow, elif, and else
        </h2>
        <p class="mb-4">Further revise your code as follows:</p>
        <div class="code-box">
          <button class="copy-btn" onclick="copyCode(this)">Copy</button>x =
          int(input("What's x? "))<br />y = int(input("What's y? "))<br /><br />if
          x < y:<br />
          print("x is less than y")<br />elif x > y:<br />
          print("x is greater than y")<br />else:<br />
          print("x is equal to y")
        </div>
        <p class="mt-3">
          Notice how the use of <code>elif</code> and <code>else</code> allows
          the program to make fewer decisions and improves readability.
        </p>
        <div class="section-complete" id="complete-lec1-section-3">
          <input
            type="checkbox"
            class="section-checkbox"
            id="checkbox-lec1-section-3"
            data-section-id="lec1-section-3"
            data-xp="10"
            onchange="handleSectionComplete(this)"
          />
          <label for="checkbox-lec1-section-3" class="section-checkbox-label"
            >‚úì I understand this topic</label
          >
          <span class="xp-badge" id="xp-badge-lec1-section-3">+10 XP</span>
        </div>
      </section>

      <!-- 4. or -->
      <section class="reveal mb-12" data-section-id="lec1-section-4">
        <h2 class="text-2xl font-bold mb-3 flex items-center gap-2">
          <span class="text-orange-500">üîó</span> or
        </h2>
        <p class="mb-4">
          <code>or</code> allows your program to decide between one or more
          alternatives. For example:
        </p>
        <div class="code-box">
          <button class="copy-btn" onclick="copyCode(this)">Copy</button>if x !=
          y:<br />
          print("x is not equal to y")<br />else:<br />
          print("x is equal to y")
        </div>
        <p class="mt-3">
          This is more efficient than asking separate questions for
          <code>x < y</code> and <code>x > y</code>.
        </p>
        <div class="section-complete" id="complete-lec1-section-4">
          <input
            type="checkbox"
            class="section-checkbox"
            id="checkbox-lec1-section-4"
            data-section-id="lec1-section-4"
            data-xp="10"
            onchange="handleSectionComplete(this)"
          />
          <label for="checkbox-lec1-section-4" class="section-checkbox-label"
            >‚úì I understand this topic</label
          >
          <span class="xp-badge" id="xp-badge-lec1-section-4">+10 XP</span>
        </div>
      </section>

      <!-- 5. and -->
      <section class="reveal mb-12" data-section-id="lec1-section-5">
        <h2 class="text-2xl font-bold mb-3 flex items-center gap-2">
          <span class="text-green-500">‚ú®</span> and
        </h2>
        <p class="mb-4">
          Similar to <code>or</code>, <code>and</code> can be used within
          conditional statements. Execute in the terminal window
          <code>code grade.py</code>. Start your new program as follows:
        </p>
        <div class="code-box">
          <button class="copy-btn" onclick="copyCode(this)">Copy</button>score =
          int(input("Score: "))<br /><br />if score >= 90:<br />
          print("Grade: A")<br />elif score >= 80:<br />
          print("Grade: B")<br />elif score >= 70:<br />
          print("Grade: C")<br />elif score >= 60:<br />
          print("Grade: D")<br />else:<br />
          print("Grade: F")
        </div>
        <p class="mt-3">
          Notice how the program is improved by asking fewer questions. This
          makes our program easier to read and far more maintainable in the
          future.
        </p>
        <div class="section-complete" id="complete-lec1-section-5">
          <input
            type="checkbox"
            class="section-checkbox"
            id="checkbox-lec1-section-5"
            data-section-id="lec1-section-5"
            data-xp="10"
            onchange="handleSectionComplete(this)"
          />
          <label for="checkbox-lec1-section-5" class="section-checkbox-label"
            >‚úì I understand this topic</label
          >
          <span class="xp-badge" id="xp-badge-lec1-section-5">+10 XP</span>
        </div>
      </section>

      <!-- 6. Modulo -->
      <section class="reveal mb-12" data-section-id="lec1-section-6">
        <h2 class="text-2xl font-bold mb-3 flex items-center gap-2">
          <span class="text-pink-500">‚ûó</span> Modulo
        </h2>
        <p class="mb-4">
          In mathematics, parity refers to whether a number is either even or
          odd. <br />
          The modulo <code>%</code> operator in programming allows one to see if
          two numbers divide evenly or divide and have a remainder. <br />
          For example, <code>4 % 2</code> would result in zero, because it
          evenly divides. However, <code>3 % 2</code> does not divide evenly and
          would result in a number other than zero! <br />
          In the terminal window, create a new program by typing
          <code>code parity.py</code>. In the text editor window, type your code
          as follows:
        </p>
        <div class="code-box">
          <button class="copy-btn" onclick="copyCode(this)">Copy</button>x =
          int(input("What's x? "))<br /><br />if x % 2 == 0:<br />
          print("Even")<br />else:<br />
          print("Odd")
        </div>
        <div class="section-complete" id="complete-lec1-section-6">
          <input
            type="checkbox"
            class="section-checkbox"
            id="checkbox-lec1-section-6"
            data-section-id="lec1-section-6"
            data-xp="10"
            onchange="handleSectionComplete(this)"
          />
          <label for="checkbox-lec1-section-6" class="section-checkbox-label"
            >‚úì I understand this topic</label
          >
          <span class="xp-badge" id="xp-badge-lec1-section-6">+10 XP</span>
        </div>
      </section>

      <!-- 7. Creating Our Own Parity Function -->
      <section class="reveal mb-12" data-section-id="lec1-section-7">
        <h2 class="text-2xl font-bold mb-3 flex items-center gap-2">
          <span class="text-yellow-500">üß™</span> Creating Our Own Parity
          Function
        </h2>
        <p class="mb-4">
          As discussed in Lecture 0, you will find it useful to create a
          function of your own! We can create our own function to check whether
          a number is even or odd. Adjust your code as follows:
        </p>
        <div class="code-box">
          <button class="copy-btn" onclick="copyCode(this)">Copy</button>def
          main():<br />
          x = int(input("What's x? "))<br />
          if is_even(x):<br />
          print("Even")<br />
          else:<br />
          print("Odd")<br /><br />def is_even(n):<br />
          return n % 2 == 0<br /><br />main()
        </div>
        <div class="section-complete" id="complete-lec1-section-7">
          <input
            type="checkbox"
            class="section-checkbox"
            id="checkbox-lec1-section-7"
            data-section-id="lec1-section-7"
            data-xp="10"
            onchange="handleSectionComplete(this)"
          />
          <label for="checkbox-lec1-section-7" class="section-checkbox-label"
            >‚úì I understand this topic</label
          >
          <span class="xp-badge" id="xp-badge-lec1-section-7">+10 XP</span>
        </div>
      </section>

      <!-- 8. Pythonic -->
      <section class="reveal mb-12" data-section-id="lec1-section-8">
        <h2 class="text-2xl font-bold mb-3 flex items-center gap-2">
          <span class="text-teal-500">üêç</span> Pythonic
        </h2>
        <p class="mb-4">
          In the programming world, there are types of programming that are
          called "Pythonic" in nature. That is, there are ways to program that
          are sometimes only seen in Python programming. Consider the following
          revision to our program:
        </p>
        <div class="code-box">
          <button class="copy-btn" onclick="copyCode(this)">Copy</button>def
          is_even(n):<br />
          return True if n % 2 == 0 else False
        </div>
        <p class="mt-3">
          Notice that this return statement in our code is almost like a
          sentence in English. This is a unique way of coding only seen in
          Python.
        </p>
        <div class="section-complete" id="complete-lec1-section-8">
          <input
            type="checkbox"
            class="section-checkbox"
            id="checkbox-lec1-section-8"
            data-section-id="lec1-section-8"
            data-xp="10"
            onchange="handleSectionComplete(this)"
          />
          <label for="checkbox-lec1-section-8" class="section-checkbox-label"
            >‚úì I understand this topic</label
          >
          <span class="xp-badge" id="xp-badge-lec1-section-8">+10 XP</span>
        </div>
      </section>

      <!-- 9. match -->
      <section class="reveal mb-12" data-section-id="lec1-section-9">
        <h2 class="text-2xl font-bold mb-3 flex items-center gap-2">
          <span class="text-cyan-500">üîÄ</span> match
        </h2>
        <p class="mb-4">
          Similar to <code>if</code>, <code>elif</code>, and
          <code>else</code> statements, <code>match</code> statements can be
          used to conditionally run code that matches certain values. Consider
          the following program:
        </p>
        <div class="code-box">
          <button class="copy-btn" onclick="copyCode(this)">Copy</button>name =
          input("What's your name? ")<br /><br />match name:<br />
          case "Harry" | "Hermione" | "Ron":<br />
          print("Gryffindor")<br />
          case "Draco":<br />
          print("Slytherin")<br />
          case _:<br />
          print("Who?")
        </div>
        <p class="mt-3">
          Notice the use of the <code>_</code> symbol in the last case. This
          will match with any input, resulting in similar behavior as an
          <code>else</code> statement.
        </p>
        <div class="section-complete" id="complete-lec1-section-9">
          <input
            type="checkbox"
            class="section-checkbox"
            id="checkbox-lec1-section-9"
            data-section-id="lec1-section-9"
            data-xp="10"
            onchange="handleSectionComplete(this)"
          />
          <label for="checkbox-lec1-section-9" class="section-checkbox-label"
            >‚úì I understand this topic</label
          >
          <span class="xp-badge" id="xp-badge-lec1-section-9">+10 XP</span>
        </div>
      </section>

      <!-- 10. Summing Up -->
      <section
        class="reveal mb-12 p-6 bg-gradient-to-r from-teal-50 to-blue-50 dark:from-teal-900/20 dark:to-blue-900/20 rounded-xl"
        data-section-id="lec1-section-10"
      >
        <h2 class="text-2xl font-bold mb-3">Summing Up</h2>
        <p class="mb-4">
          You now have the power within Python to use conditional statements to
          ask questions and have your program take action accordingly. In this
          lecture, we discussed‚Ä¶
        </p>
        <ul class="list-disc ml-6 space-y-1">
          <li>Conditionals;</li>
          <li>if Statements;</li>
          <li>Control flow, elif, and else;</li>
          <li>or;</li>
          <li>and;</li>
          <li>Modulo;</li>
          <li>Creating your own function;</li>
          <li>Pythonic coding;</li>
          <li>and match.</li>
        </ul>
        <div class="mt-4">
          <a
            href="/lec2"
            class="inline-flex items-center gap-2 px-5 py-2.5 rounded-lg bg-teal-600 text-white hover:bg-teal-700 transition"
            >Next Lecture ‚Üí</a
          >
        </div>
        <div class="section-complete mt-4" id="complete-lec1-section-10">
          <input
            type="checkbox"
            class="section-checkbox"
            id="checkbox-lec1-section-10"
            data-section-id="lec1-section-10"
            data-xp="10"
            onchange="handleSectionComplete(this)"
          />
          <label for="checkbox-lec1-section-10" class="section-checkbox-label"
            >‚úì I understand this topic</label
          >
          <span class="xp-badge" id="xp-badge-lec1-section-10">+10 XP</span>
        </div>
      </section>

      <!-- 11. Live Playground -->
      <section class="reveal mb-12" data-section-id="lec1-section-11">
        <h2 class="text-2xl font-bold mb-3 flex items-center gap-2">
          <span class="text-teal-500">üöÄ</span> Live Playground
        </h2>
        <p>
          Edit the code below and hit <strong>Run</strong>‚Äîno servers, no
          installs.
        </p>
        <textarea id="playground" class="code-box w-full h-48 mt-3">
# Try your own conditionals!
score = int(input("Score: "))
if score >= 90:
    print("Grade: A")
else:
    print("Grade: F")</textarea
        >
        <div class="flex items-center gap-3 mt-3">
          <button
            onclick="runCode()"
            class="px-5 py-2 rounded-lg bg-teal-600 text-white hover:bg-teal-700 transition"
          >
            ‚ñ∂ Run
          </button>
          <button
            onclick="resetCode()"
            class="px-5 py-2 rounded-lg bg-gray-200 dark:bg-gray-700 hover:bg-gray-300 dark:hover:bg-gray-600 transition"
          >
            Reset
          </button>
        </div>
        <div id="playground-out" class="output-box mt-3">
          Output will appear here‚Ä¶
        </div>
        <div class="section-complete mt-4" id="complete-lec1-section-11">
          <input
            type="checkbox"
            class="section-checkbox"
            id="checkbox-lec1-section-11"
            data-section-id="lec1-section-11"
            data-xp="10"
            onchange="handleSectionComplete(this)"
          />
          <label for="checkbox-lec1-section-11" class="section-checkbox-label"
            >‚úì I understand this topic</label
          >
          <span class="xp-badge" id="xp-badge-lec1-section-11">+10 XP</span>
        </div>
      </section>
    </main>
    <!-- =====  PSET-1 SOLUTION VIDEOS  ===== -->
    <section class="reveal mb-12">
      <h2 class="text-2xl font-bold mb-4 flex items-center gap-2">
        <span class="text-rose-500">üé•</span>
        PSET 1 ‚Äì Question-by-Question Solutions
      </h2>

      <!-- the player -->
      <div
        class="aspect-video rounded-2xl overflow-hidden shadow-2xl ring-1 ring-slate-200 dark:ring-slate-700"
      >
        <video id="pset-player" controls class="w-full h-full">
          <source
            src="Screen Recording 2025-12-16 at 7.26.55‚ÄØAM.mov"
            type="video/mp4"
          />
          Your browser does not support the video tag.
        </video>
      </div>
    </section>
    <!-- =========  PSET2 QUESTIONS & HINTS ‚Äì DOPE STYLING  ========= -->
    <section class="reveal mt-12">
      <!-- neon-gradient title -->
      <h2
        class="text-4xl font-extrabold mb-10 text-center bg-clip-text text-transparent bg-gradient-to-r from-pink-500 via-purple-500 to-indigo-500 drop-shadow-[0_0_10px_rgba(167,139,250,0.5)] dark:drop-shadow-[0_0_15px_rgba(196,181,253,0.6)]"
      >
        <!-- =====  PSET-1 WALK-THROUGH VIDEO  ===== -->
        <!-- =====  PSET-1 SOLUTION VIDEOS  ===== -->

        üéØ PSET 1 ‚Äì Questions & Hints
      </h2>

      <!-- glowing card grid -->
      <div class="grid md:grid-cols-2 lg:grid-cols-3 gap-6">
        <!-- 1. Indoor Voice -->
        <div
          class="group relative bg-gradient-to-br from-indigo-50 to-purple-50 dark:from-gray-900 dark:to-indigo-900/30 rounded-2xl p-6 shadow-xl dark:shadow-black/40 ring-1 ring-indigo-200 dark:ring-indigo-700 hover:ring-indigo-400 transition-all duration-300 hover:-translate-y-1 hover:shadow-2xl hover:shadow-indigo-500/20"
          data-src="Screen Recording 2025-12-16 at 7.26.55‚ÄØAM.mov"
          class="group relative ‚Ä¶ all-your-existing-classes ‚Ä¶ cursor-pointer"
        >
          <div
            class="absolute -top-3 -right-3 w-12 h-12 grid place-items-center rounded-full bg-gradient-to-br from-indigo-500 to-purple-600 text-white font-bold shadow-lg drop-shadow-md"
          >
            1
          </div>
          <h3
            class="text-xl font-bold mb-3 text-indigo-700 dark:text-indigo-300"
          >
            Indoor Voice
          </h3>
          <p class="text-sm mb-3 text-slate-700 dark:text-slate-300">
            Take a string as input ‚Üí print the same string but all in lowercase.
            Bro, basically your program is acting like ‚ÄúShhh library warden mode
            ON.‚Äù
          </p>
          <div
            class="inline-flex items-center gap-2 px-3 py-1 rounded-full bg-indigo-100 dark:bg-indigo-800/30 text-indigo-700 dark:text-indigo-300 text-xs font-medium"
          >
            <code>.lower()</code>
          </div>
          <p class="text-xs mt-3 text-slate-500 dark:text-slate-400">
            Hinglish hint: Bas jo user likhe, usko chhota bana ke output de do.
            Like CAPS LOCK ka badla.
          </p>
        </div>

        <!-- 2. Playback Speed -->
        <div
          class="group relative bg-gradient-to-br from-purple-50 to-pink-50 dark:from-gray-900 dark:to-purple-900/30 rounded-2xl p-6 shadow-xl dark:shadow-black/40 ring-1 ring-purple-200 dark:ring-purple-700 hover:ring-purple-400 transition-all duration-300 hover:-translate-y-1 hover:shadow-2xl hover:shadow-purple-500/20"
        >
          <div
            class="absolute -top-3 -right-3 w-12 h-12 grid place-items-center rounded-full bg-gradient-to-br from-purple-500 to-pink-600 text-white font-bold shadow-lg drop-shadow-md"
          >
            2
          </div>
          <h3
            class="text-xl font-bold mb-3 text-purple-700 dark:text-purple-300"
          >
            Playback Speed
          </h3>
          <p class="text-sm mb-3 text-slate-700 dark:text-slate-300">
            Replace all spaces " " in the input string with "..." Matlab user ka
            dialogue thoda dramatic bana dena.
          </p>
          <div
            class="inline-flex items-center gap-2 px-3 py-1 rounded-full bg-purple-100 dark:bg-purple-800/30 text-purple-700 dark:text-purple-300 text-xs font-medium"
          >
            <code>str.replace(" ", "...")</code>
          </div>
          <p class="text-xs mt-3 text-slate-500 dark:text-slate-400">
            Hinglish hint: Sab space ko teen dot mein badal do, jaise suspense
            ho.
          </p>
        </div>

        <!-- 3. Making Faces -->
        <div
          class="group relative bg-gradient-to-br from-green-50 to-emerald-50 dark:from-gray-900 dark:to-green-900/30 rounded-2xl p-6 shadow-xl dark:shadow-black/40 ring-1 ring-green-200 dark:ring-green-700 hover:ring-green-400 transition-all duration-300 hover:-translate-y-1 hover:shadow-2xl hover:shadow-green-500/20"
        >
          <div
            class="absolute -top-3 -right-3 w-12 h-12 grid place-items-center rounded-full bg-gradient-to-br from-green-500 to-emerald-600 text-white font-bold shadow-lg drop-shadow-md"
          >
            3
          </div>
          <h3 class="text-xl font-bold mb-3 text-green-700 dark:text-green-300">
            Making Faces
          </h3>
          <p class="text-sm mb-3 text-slate-700 dark:text-slate-300">
            Convert :) ‚Üí üôÇ and :( ‚Üí üôÅ (Using text emojis and replacing them.)
          </p>
          <div
            class="inline-flex items-center gap-2 px-3 py-1 rounded-full bg-green-100 dark:bg-green-800/30 text-green-700 dark:text-green-300 text-xs font-medium"
          >
            replace inside function
          </div>
          <p class="text-xs mt-3 text-slate-500 dark:text-slate-400">
            Hinglish hint: :) ko smiley emoji mein badalna hai, aur :( ko sad
            emoji mein. Bas 2 replace ka kaam.
          </p>
        </div>

        <!-- 4. Einstein -->
        <div
          class="group relative bg-gradient-to-br from-orange-50 to-amber-50 dark:from-gray-900 dark:to-orange-900/30 rounded-2xl p-6 shadow-xl dark:shadow-black/40 ring-1 ring-orange-200 dark:ring-orange-700 hover:ring-orange-400 transition-all duration-300 hover:-translate-y-1 hover:shadow-2xl hover:shadow-orange-500/20"
        >
          <div
            class="absolute -top-3 -right-3 w-12 h-12 grid place-items-center rounded-full bg-gradient-to-br from-orange-500 to-amber-600 text-white font-bold shadow-lg drop-shadow-md"
          >
            4
          </div>
          <h3
            class="text-xl font-bold mb-3 text-orange-700 dark:text-orange-300"
          >
            Einstein
          </h3>
          <p class="text-sm mb-3 text-slate-700 dark:text-slate-300">
            Compute <em>E = mc¬≤</em> where <code>m</code> is input and
            <code>c = 300 000 000</code>. Matlab physics ke Einstein bhai ka
            formula use karna hai.
          </p>
          <div
            class="inline-flex items-center gap-2 px-3 py-1 rounded-full bg-orange-100 dark:bg-orange-800/30 text-orange-700 dark:text-orange-300 text-xs font-medium"
          >
            <code>m * (300_000_000 ** 2)</code>
          </div>
          <p class="text-xs mt-3 text-slate-500 dark:text-slate-400">
            Hinglish hint: Bas mass lo, light-speed square karo aur multiply.
            Gandhiji bhi kar lenge.
          </p>
        </div>

        <!-- 5. Tip Calculator -->
        <div
          class="group relative bg-gradient-to-br from-pink-50 to-rose-50 dark:from-gray-900 dark:to-pink-900/30 rounded-2xl p-6 shadow-xl dark:shadow-black/40 ring-1 ring-pink-200 dark:ring-pink-700 hover:ring-pink-400 transition-all duration-300 hover:-translate-y-1 hover:shadow-2xl hover:shadow-pink-500/20 md:col-span-2 lg:col-span-1"
        >
          <div
            class="absolute -top-3 -right-3 w-12 h-12 grid place-items-center rounded-full bg-gradient-to-br from-pink-500 to-rose-600 text-white font-bold shadow-lg drop-shadow-md"
          >
            5
          </div>
          <h3 class="text-xl font-bold mb-3 text-pink-700 dark:text-pink-300">
            Tip Calculator
          </h3>
          <p class="text-sm mb-3 text-slate-700 dark:text-slate-300">
            Ask for bill (e.g. $50.00) and tip % (e.g. 15 %) ‚Üí calculate tip
            amount in dollars.
          </p>
          <div
            class="inline-flex items-center gap-2 px-3 py-1 rounded-full bg-pink-100 dark:bg-pink-800/30 text-pink-700 dark:text-pink-300 text-xs font-medium"
          >
            strip $/% ‚Üí float ‚Üí <code>bill*(percent/100)</code>
          </div>
          <p class="text-xs mt-3 text-slate-500 dark:text-slate-400">
            Hinglish hint: Bill aur percent se symbols nikal do, number mein
            badal ke percentage ka hisaab laga do.
          </p>
        </div>
      </div>

      <!-- flashy summary row -->
      <div
        class="mt-10 p-5 bg-gradient-to-r from-teal-500/10 via-cyan-500/10 to-blue-500/10 dark:from-teal-500/20 dark:via-cyan-500/20 dark:to-blue-500/20 rounded-2xl border border-teal-300 dark:border-teal-700 text-center"
      >
        <p class="font-bold text-slate-800 dark:text-slate-200">
          üî• Quick Memory Trigger
        </p>
        <p class="text-sm mt-2 text-slate-600 dark:text-slate-300">
          Indoor ‚Üí lowercase | Playback ‚Üí replace spaces | Faces ‚Üí replace :) /
          :( | Einstein ‚Üí m√óc¬≤ | Tip ‚Üí clean $% ‚Üí calc %
        </p>
      </div>
    </section>
    <!-- =========  FOOTER  ========= -->
    <footer class="bg-gray-900 text-white py-8 mt-12">
      <div class="max-w-4xl mx-auto px-4 text-center text-gray-400">
        ¬© 2024 PythonLearn ‚Äì built with ‚ù§Ô∏è for every future Pythonista.
      </div>
    </footer>

    <!-- =========  TEXT-TO-SPEECH PANEL  ========= -->
    <div class="tts-container" id="ttsContainer">
      <div class="tts-header" onclick="toggleTTS()">
        <div class="tts-title">
          <span>üîä</span>
          <span>Text to Speech</span>
        </div>
        <button
          class="tts-btn secondary"
          style="padding: 4px 8px; font-size: 12px"
        >
          <span id="ttsToggleIcon">‚àí</span>
        </button>
      </div>
      <div id="ttsControls">
        <div class="tts-controls">
          <button class="tts-btn" id="ttsPlayBtn" onclick="playSelectedText()">
            <span>‚ñ∂</span> Read Selected
          </button>
          <button
            class="tts-btn secondary"
            id="ttsSectionBtn"
            onclick="readCurrentSection()"
          >
            <span>üìñ</span> Read Section
          </button>
          <button
            class="tts-btn secondary"
            id="ttsStopBtn"
            onclick="stopTTS()"
            disabled
          >
            <span>‚èπ</span> Stop
          </button>
        </div>
        <div class="tts-speed-control">
          <span>Speed:</span>
          <input
            type="range"
            min="0.5"
            max="2"
            step="0.1"
            value="1"
            class="tts-speed-slider"
            id="ttsSpeedSlider"
          />
          <span id="ttsSpeedValue">1.0x</span>
        </div>
        <div class="tts-status" id="ttsStatus">
          Select text or click "Read Section"
        </div>
      </div>
    </div>

    <!-- =========  EXISTING JS  ========= -->
    <script>
      const cards = document.querySelectorAll("[data-src]");
      const player = document.getElementById("pset-player");

      cards.forEach((card) => {
        card.addEventListener("click", () => {
          // swap video
          player.querySelector("source").src = card.dataset.src;
          player.load();
          player.play();

          // highlight active card
          cards.forEach((c) =>
            c.classList.remove("ring-2", "ring-offset-2", "ring-teal-400")
          );
          card.classList.add("ring-2", "ring-offset-2", "ring-teal-400");
        });
      });
      /* ----- dark mode toggle (respects your nav) ----- */
      if (
        localStorage.theme === "dark" ||
        (!("theme" in localStorage) &&
          window.matchMedia("(prefers-color-scheme: dark)").matches)
      ) {
        document.documentElement.setAttribute("data-theme", "dark");
      } else {
        document.documentElement.setAttribute("data-theme", "light");
      }

      /* ----- scroll reveal ----- */
      const reveals = document.querySelectorAll(".reveal");
      const observer = new IntersectionObserver(
        (entries) => {
          entries.forEach((entry) => {
            if (entry.isIntersecting) {
              anime({
                targets: entry.target,
                opacity: 1,
                translateY: 0,
                duration: 600,
                easing: "easeOutQuad",
              });
              observer.unobserve(entry.target);
            }
          });
        },
        { threshold: 0.15 }
      );
      reveals.forEach((el) => observer.observe(el));

      /* ----- copy code ----- */
      function copyCode(btn) {
        const box = btn.parentElement;
        const code = box.textContent.trim();
        navigator.clipboard.writeText(code);
        btn.textContent = "Copied!";
        setTimeout(() => (btn.textContent = "Copy"), 1200);
      }

      /* ----- live runner (Skulpt) ----- */
      function outf(text) {
        const out = document.getElementById("playground-out");
        out.textContent += text;
      }
      function builtinRead(x) {
        if (
          Sk.builtinFiles === undefined ||
          Sk.builtinFiles["files"][x] === undefined
        )
          throw new Error("File not found: " + x);
        return Sk.builtinFiles["files"][x];
      }
      function runCode() {
        const prog = document.getElementById("playground").value;
        document.getElementById("playground-out").textContent = "";
        Sk.pre = "playground-out";
        Sk.configure({
          output: outf,
          read: builtinRead,
          __future__: Sk.python3,
        });
        (Sk.TurtleGraphics || (Sk.TurtleGraphics = {})).target =
          "playground-out";
        const myPromise = Sk.misceval.asyncToPromise(() =>
          Sk.importMainWithBody("<stdin>", false, prog, true)
        );
        myPromise.then(
          () => {
            const out = document.getElementById("playground-out").textContent;
            if (out.includes("Grade:")) {
              const cel = document.getElementById("celebrate");
              if (cel) {
                cel.classList.remove("hidden");
                cel.querySelector("span").classList.add("check-celebration");
              }
            }
          },
          (err) => {
            document.getElementById("playground-out").textContent =
              err.toString();
          }
        );
      }
      function resetCode() {
        document.getElementById(
          "playground"
        ).value = `score = int(input("Score: "))
if score >= 90:
    print("Grade: A")
else:
    print("Grade: F")`;
        document.getElementById("playground-out").textContent =
          "Output will appear here‚Ä¶";
      }

      /* highlight current lecture */
      document.querySelectorAll(".lecture2-nav a").forEach((a) => {
        if (a.href.endsWith("lec1.html"))
          a.classList.add("bg-teal-700", "text-white");
      });

      /* =========  TEXT-TO-SPEECH FUNCTIONALITY  ========= */
      let synth = window.speechSynthesis;
      let currentUtterance = null;
      let isReading = false;
      let currentHighlight = null;

      function toggleTTS() {
        const container = document.getElementById("ttsContainer");
        const controls = document.getElementById("ttsControls");
        const icon = document.getElementById("ttsToggleIcon");

        if (container.classList.contains("collapsed")) {
          container.classList.remove("collapsed");
          controls.style.display = "block";
          icon.textContent = "‚àí";
        } else {
          container.classList.add("collapsed");
          controls.style.display = "none";
          icon.textContent = "+";
        }
      }

      function getSelectedText() {
        const selection = window.getSelection();
        return selection.toString().trim();
      }

      function removeHighlights() {
        if (currentHighlight) {
          currentHighlight.classList.remove("tts-reading");
          currentHighlight = null;
        }
        document.querySelectorAll(".tts-reading").forEach((el) => {
          el.classList.remove("tts-reading");
        });
      }

      function speakText(text, element = null) {
        if (!text) {
          updateStatus("No text selected");
          return;
        }

        stopTTS();

        const cleanText = text
          .replace(/<[^>]*>/g, "")
          .replace(/\s+/g, " ")
          .trim();

        if (!cleanText) {
          updateStatus("No readable text found");
          return;
        }

        currentUtterance = new SpeechSynthesisUtterance(cleanText);
        const speed = parseFloat(
          document.getElementById("ttsSpeedSlider").value
        );
        currentUtterance.rate = speed;
        currentUtterance.pitch = 1;
        currentUtterance.volume = 1;

        if (element) {
          removeHighlights();
          element.classList.add("tts-reading");
          currentHighlight = element;
          element.scrollIntoView({ behavior: "smooth", block: "center" });
        }

        currentUtterance.onstart = () => {
          isReading = true;
          updateButtons(true);
          updateStatus("Reading...");
        };

        currentUtterance.onend = () => {
          isReading = false;
          updateButtons(false);
          removeHighlights();
          updateStatus("Finished reading");
          setTimeout(
            () => updateStatus('Select text or click "Read Section"'),
            2000
          );
        };

        currentUtterance.onerror = (event) => {
          isReading = false;
          updateButtons(false);
          removeHighlights();
          updateStatus("Error: " + event.error);
        };

        synth.speak(currentUtterance);
      }

      function playSelectedText() {
        const selectedText = getSelectedText();
        if (selectedText) {
          speakText(selectedText);
          updateStatus("Reading selected text...");
        } else {
          updateStatus("Please select some text first");
          readCurrentSection();
        }
      }

      function readCurrentSection() {
        const sections = document.querySelectorAll("section.reveal");
        let targetSection = null;

        sections.forEach((section) => {
          const rect = section.getBoundingClientRect();
          if (rect.top >= 0 && rect.top <= window.innerHeight / 2) {
            targetSection = section;
          }
        });

        if (!targetSection && sections.length > 0) {
          targetSection = sections[0];
        }

        if (targetSection) {
          const codeBoxes = targetSection.querySelectorAll(
            ".code-box, .output-box"
          );
          codeBoxes.forEach((box) => (box.style.display = "none"));

          const text = targetSection.innerText || targetSection.textContent;

          codeBoxes.forEach((box) => (box.style.display = ""));

          if (text) {
            speakText(text, targetSection);
            updateStatus(
              "Reading section: " +
                (targetSection.querySelector("h2")?.textContent || "Section")
            );
          } else {
            updateStatus("No text found in section");
          }
        } else {
          updateStatus("No section found");
        }
      }

      function stopTTS() {
        if (synth.speaking) {
          synth.cancel();
        }
        isReading = false;
        updateButtons(false);
        removeHighlights();
        updateStatus("Stopped");
        setTimeout(
          () => updateStatus('Select text or click "Read Section"'),
          2000
        );
      }

      function updateButtons(reading) {
        document.getElementById("ttsPlayBtn").disabled = reading;
        document.getElementById("ttsSectionBtn").disabled = reading;
        document.getElementById("ttsStopBtn").disabled = !reading;
      }

      function updateStatus(message) {
        document.getElementById("ttsStatus").textContent = message;
      }

      document
        .getElementById("ttsSpeedSlider")
        .addEventListener("input", function (e) {
          const speed = parseFloat(e.target.value);
          document.getElementById("ttsSpeedValue").textContent =
            speed.toFixed(1) + "x";
          if (currentUtterance && isReading) {
            synth.cancel();
            currentUtterance.rate = speed;
            synth.speak(currentUtterance);
          }
        });

      window.addEventListener("beforeunload", () => {
        stopTTS();
      });

      document.addEventListener("dblclick", function (e) {
        if (e.target.tagName === "P" || e.target.closest("p")) {
          const paragraph =
            e.target.tagName === "P" ? e.target : e.target.closest("p");
          const text = paragraph.innerText || paragraph.textContent;
          if (text.trim()) {
            speakText(text, paragraph);
          }
        }
      });

      /* =========  XP & LEVEL SYSTEM  ========= */
      const XP_SYSTEM = {
        getXPForLevel: (level) => Math.floor(100 * Math.pow(1.5, level - 1)),
        getLevelFromXP: (totalXP) => {
          let level = 1;
          let xpNeeded = 0;
          while (xpNeeded <= totalXP) {
            xpNeeded += XP_SYSTEM.getXPForLevel(level);
            if (xpNeeded <= totalXP) level++;
          }
          return level;
        },
        init: () => {
          let userData = JSON.parse(
            localStorage.getItem("pythonLearnUserData") || "{}"
          );
          if (!userData.xp) userData.xp = 0;
          if (!userData.completedSections) userData.completedSections = [];
          if (!userData.completedQuizzes) userData.completedQuizzes = [];
          localStorage.setItem("pythonLearnUserData", JSON.stringify(userData));
          return userData;
        },
        addXP: (amount, source) => {
          const userData = XP_SYSTEM.init();
          const oldLevel = XP_SYSTEM.getLevelFromXP(userData.xp);
          userData.xp += amount;
          const newLevel = XP_SYSTEM.getLevelFromXP(userData.xp);
          localStorage.setItem("pythonLearnUserData", JSON.stringify(userData));
          if (newLevel > oldLevel) XP_SYSTEM.showLevelUp(newLevel);
          XP_SYSTEM.updateDisplay();
          return {
            xp: userData.xp,
            level: newLevel,
            leveledUp: newLevel > oldLevel,
          };
        },
        showLevelUp: (level) => {
          const modal = document.createElement("div");
          modal.className = "level-up-modal";
          modal.innerHTML = `<div class="level-up-content"><div class="level-up-icon">üéâ</div><h2>Level Up!</h2><p class="level-up-text">You've reached Level ${level}!</p><p class="level-up-subtext">Keep learning to unlock more levels!</p><button onclick="this.closest('.level-up-modal').remove()" class="level-up-btn">Awesome!</button></div>`;
          document.body.appendChild(modal);
          setTimeout(() => modal.classList.add("show"), 100);
        },
        updateDisplay: () => {
          const userData = XP_SYSTEM.init();
          const level = XP_SYSTEM.getLevelFromXP(userData.xp);
          const xpDisplay = document.getElementById("user-xp-display");
          const levelDisplay = document.getElementById("user-level-display");
          if (xpDisplay) xpDisplay.textContent = `XP: ${userData.xp}`;
          if (levelDisplay) levelDisplay.textContent = `Level ${level}`;
        },
        loadCompletedSections: () => {
          const userData = XP_SYSTEM.init();
          if (userData.completedSections) {
            userData.completedSections.forEach((sectionId) => {
              const checkbox = document.getElementById(`checkbox-${sectionId}`);
              const completeDiv = document.getElementById(
                `complete-${sectionId}`
              );
              if (checkbox) {
                checkbox.checked = true;
                if (completeDiv) completeDiv.classList.add("completed");
              }
            });
          }
        },
      };

      function handleSectionComplete(checkbox) {
        const sectionId = checkbox.dataset.sectionId;
        const xpAmount = parseInt(checkbox.dataset.xp || 10);
        const completeDiv = document.getElementById(`complete-${sectionId}`);
        const xpBadge = document.getElementById(`xp-badge-${sectionId}`);
        if (checkbox.checked) {
          if (completeDiv) completeDiv.classList.add("completed");
          const result = XP_SYSTEM.addXP(xpAmount, "section");
          const userData = XP_SYSTEM.init();
          if (!userData.completedSections.includes(sectionId)) {
            userData.completedSections.push(sectionId);
            localStorage.setItem(
              "pythonLearnUserData",
              JSON.stringify(userData)
            );
            if (xpBadge) {
              xpBadge.classList.add("earned");
              setTimeout(() => xpBadge.classList.remove("earned"), 500);
            }
            showXPNotification(`+${xpAmount} XP`, result.leveledUp);
          }
        } else {
          if (completeDiv) completeDiv.classList.remove("completed");
          const userData = XP_SYSTEM.init();
          userData.completedSections = userData.completedSections.filter(
            (id) => id !== sectionId
          );
          localStorage.setItem("pythonLearnUserData", JSON.stringify(userData));
        }
      }

      function showXPNotification(message, leveledUp = false) {
        const notification = document.createElement("div");
        notification.className = "xp-notification";
        notification.textContent = message;
        if (leveledUp) notification.classList.add("level-up");
        document.body.appendChild(notification);
        setTimeout(() => notification.classList.add("show"), 100);
        setTimeout(() => {
          notification.classList.remove("show");
          setTimeout(() => notification.remove(), 300);
        }, 2000);
      }

      document.addEventListener("DOMContentLoaded", () => {
        XP_SYSTEM.updateDisplay();
        XP_SYSTEM.loadCompletedSections();
      });
    </script>

    <style>
      .level-up-modal {
        position: fixed;
        top: 0;
        left: 0;
        right: 0;
        bottom: 0;
        background: rgba(0, 0, 0, 0.8);
        display: flex;
        align-items: center;
        justify-content: center;
        z-index: 10000;
        opacity: 0;
        transition: opacity 0.3s ease;
      }
      .level-up-modal.show {
        opacity: 1;
      }
      .level-up-content {
        background: white;
        border-radius: 24px;
        padding: 3rem;
        text-align: center;
        max-width: 400px;
        box-shadow: 0 20px 60px rgba(0, 0, 0, 0.3);
        transform: scale(0.8);
        transition: transform 0.3s ease;
      }
      .level-up-modal.show .level-up-content {
        transform: scale(1);
      }
      .level-up-icon {
        font-size: 4rem;
        margin-bottom: 1rem;
        animation: bounce 0.6s ease;
      }
      .level-up-content h2 {
        font-size: 2rem;
        font-weight: 800;
        color: var(--primary-600);
        margin-bottom: 0.5rem;
      }
      .level-up-text {
        font-size: 1.25rem;
        font-weight: 600;
        color: var(--slate-700);
        margin-bottom: 0.5rem;
      }
      .level-up-subtext {
        color: var(--slate-600);
        margin-bottom: 1.5rem;
      }
      .level-up-btn {
        padding: 12px 32px;
        background: linear-gradient(
          135deg,
          var(--primary-600),
          var(--secondary-600)
        );
        color: white;
        border: none;
        border-radius: 12px;
        font-weight: 600;
        font-size: 1rem;
        cursor: pointer;
        transition: transform 0.2s;
      }
      .level-up-btn:hover {
        transform: translateY(-2px);
      }
      .xp-notification {
        position: fixed;
        top: 100px;
        right: 20px;
        background: linear-gradient(
          135deg,
          var(--primary-600),
          var(--secondary-600)
        );
        color: white;
        padding: 16px 24px;
        border-radius: 12px;
        font-weight: 600;
        font-size: 1.125rem;
        box-shadow: 0 8px 24px rgba(0, 0, 0, 0.2);
        z-index: 10001;
        transform: translateX(400px);
        transition: transform 0.3s ease;
      }
      .xp-notification.show {
        transform: translateX(0);
      }
      .xp-notification.level-up {
        background: linear-gradient(135deg, #f59e0b, #ef4444);
        font-size: 1.25rem;
      }
      @keyframes bounce {
        0%,
        100% {
          transform: translateY(0);
        }
        50% {
          transform: translateY(-20px);
        }
      }
    </style>
  </body>
</html>
